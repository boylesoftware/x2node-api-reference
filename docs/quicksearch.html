<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Modules Classes X2DataError X2SyntaxError X2UsageError BasicDBDriver DBOExecutionContext DBOFactory DeleteDBO FetchDBO InsertDBO Transaction UpdateDBO RecordPatch RecordElementPointer LibraryConstructionContext PropertiesContainer PropertyDescriptor RecordTypeDescriptor RecordTypesLibrary RecordTypesLibraryFactory ResultSetParser ValidationContext ValidationErrors BasicAuthenticator JWTAuthenticator CollectionResourceHandler IndividualResourceHandler ResourceHandlersFactory TransactionContext Application ServiceCall ServiceResponse Mixins PropertiesContainerWithDBOs PropertyDescriptorWithDBOs RecordTypeDescriptorWithDBOs PropertyDescriptorWithRSParser PropertyDescriptorWithValidators RecordTypeDescriptorWithValidators HandlerExtension Events shutdown Application shutdown event. Fired after all active HTTP connections have completed. Type: string × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Classes Classes X2DataError X2SyntaxError X2UsageError BasicDBDriver DBOExecutionContext DBOFactory DeleteDBO FetchDBO InsertDBO Transaction UpdateDBO RecordPatch RecordElementPointer LibraryConstructionContext PropertiesContainer PropertyDescriptor RecordTypeDescriptor RecordTypesLibrary RecordTypesLibraryFactory ResultSetParser ValidationContext ValidationErrors BasicAuthenticator JWTAuthenticator CollectionResourceHandler IndividualResourceHandler ResourceHandlersFactory TransactionContext Application ServiceCall ServiceResponse Mixins PropertiesContainerWithDBOs PropertyDescriptorWithDBOs RecordTypeDescriptorWithDBOs PropertyDescriptorWithRSParser PropertyDescriptorWithValidators RecordTypeDescriptorWithValidators HandlerExtension Events shutdown Application shutdown event. Fired after all active HTTP connections have completed. Type: string × Search results Close "},"mixins.list.html":{"id":"mixins.list.html","title":"Mixins","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Mixins Classes X2DataError X2SyntaxError X2UsageError BasicDBDriver DBOExecutionContext DBOFactory DeleteDBO FetchDBO InsertDBO Transaction UpdateDBO RecordPatch RecordElementPointer LibraryConstructionContext PropertiesContainer PropertyDescriptor RecordTypeDescriptor RecordTypesLibrary RecordTypesLibraryFactory ResultSetParser ValidationContext ValidationErrors BasicAuthenticator JWTAuthenticator CollectionResourceHandler IndividualResourceHandler ResourceHandlersFactory TransactionContext Application ServiceCall ServiceResponse Mixins PropertiesContainerWithDBOs PropertyDescriptorWithDBOs RecordTypeDescriptorWithDBOs PropertyDescriptorWithRSParser PropertyDescriptorWithValidators RecordTypeDescriptorWithValidators HandlerExtension Events shutdown Application shutdown event. Fired after all active HTTP connections have completed. Type: string × Search results Close "},"interfaces.list.html":{"id":"interfaces.list.html","title":"Interfaces","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interfaces Classes X2DataError X2SyntaxError X2UsageError BasicDBDriver DBOExecutionContext DBOFactory DeleteDBO FetchDBO InsertDBO Transaction UpdateDBO RecordPatch RecordElementPointer LibraryConstructionContext PropertiesContainer PropertyDescriptor RecordTypeDescriptor RecordTypesLibrary RecordTypesLibraryFactory ResultSetParser ValidationContext ValidationErrors BasicAuthenticator JWTAuthenticator CollectionResourceHandler IndividualResourceHandler ResourceHandlersFactory TransactionContext Application ServiceCall ServiceResponse Mixins PropertiesContainerWithDBOs PropertyDescriptorWithDBOs RecordTypeDescriptorWithDBOs PropertyDescriptorWithRSParser PropertyDescriptorWithValidators RecordTypeDescriptorWithValidators HandlerExtension Events shutdown Application shutdown event. Fired after all active HTTP connections have completed. Type: string × Search results Close "},"externals.list.html":{"id":"externals.list.html","title":"Externals","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Externals Classes X2DataError X2SyntaxError X2UsageError BasicDBDriver DBOExecutionContext DBOFactory DeleteDBO FetchDBO InsertDBO Transaction UpdateDBO RecordPatch RecordElementPointer LibraryConstructionContext PropertiesContainer PropertyDescriptor RecordTypeDescriptor RecordTypesLibrary RecordTypesLibraryFactory ResultSetParser ValidationContext ValidationErrors BasicAuthenticator JWTAuthenticator CollectionResourceHandler IndividualResourceHandler ResourceHandlersFactory TransactionContext Application ServiceCall ServiceResponse Mixins PropertiesContainerWithDBOs PropertyDescriptorWithDBOs RecordTypeDescriptorWithDBOs PropertyDescriptorWithRSParser PropertyDescriptorWithValidators RecordTypeDescriptorWithValidators HandlerExtension Events shutdown Application shutdown event. Fired after all active HTTP connections have completed. Type: string × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable X2 Framework for Node.jsThis is API reference documentation for X2 Framework for Node.js, which is a collection of related Node.js modules that comprise a complete framework for building server-side applications that expose RESTful APIs and store data records in a database. × Search results Close "},"external-Buffer.html":{"id":"external-Buffer.html","title":"External: Buffer","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable External: Buffer x2node-common~ Buffer Node.js Buffer object. See: https://nodejs.org/dist/latest-v4.x/docs/api/buffer.html#buffer_class_buffer × Search results Close "},"external-Error.html":{"id":"external-Error.html","title":"External: Error","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable External: Error x2node-common~ Error Node.js Error object. See: https://nodejs.org/dist/latest-v4.x/docs/api/errors.html#errors_class_error × Search results Close "},"external-EventEmitter.html":{"id":"external-EventEmitter.html","title":"External: EventEmitter","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable External: EventEmitter x2node-common~ EventEmitter Node.js EventEmitter object. See: https://nodejs.org/dist/latest-v4.x/docs/api/events.html#events_class_eventemitter × Search results Close "},"external-Url.html":{"id":"external-Url.html","title":"External: Url","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable External: Url x2node-common~ Url Node.js parsed URL object. See: https://nodejs.org/dist/latest-v4.x/docs/api/url.html × Search results Close "},"http.external_IncomingMessage.html":{"id":"http.external_IncomingMessage.html","title":"External: IncomingMessage","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable External: IncomingMessage IncomingMessage Node.js http.IncomingMessage object. See: https://nodejs.org/dist/latest-v4.x/docs/api/http.html#http_class_http_incomingmessage × Search results Close "},"http.external_ServerResponse.html":{"id":"http.external_ServerResponse.html","title":"External: ServerResponse","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable External: ServerResponse ServerResponse Node.js http.ServerResponse object. See: https://nodejs.org/dist/latest-v4.x/docs/api/http.html#http_class_http_serverresponse × Search results Close "},"module-x2node-common.html":{"id":"module-x2node-common.html","title":"Module: x2node-common","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Module: x2node-common Common utilities module. Classes X2DataError X2SyntaxError X2UsageError Methods &lt;static&gt; error(msg [, err]) Log application error. Parameters: Name Type Argument Description msg string Error message. err external:Error &lt;optional&gt; Optional error object. &lt;static&gt; getDebugLogger(section) Get debug logger. Parameters: Name Type Description section string Section being debugged. Returns: Debug logger function that takes one argument, which is the debug message. Type function × Search results Close "},"module-x2node-common.Actor.html":{"id":"module-x2node-common.Actor.html","title":"Interface: Actor","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interface: Actor x2node-common. Actor Interface for actor objects. Members &lt;readonly&gt; id :string|number The shortest possible unique identification of the actor (such as the user id, for example). Type: string | number &lt;readonly&gt; stamp :string|number Actor stamp, which is a string or number that identifies the actor in various historical records, such as logs, record modification histories, etc. It can be, for example, a user login name or a user account id. Type: string | number Methods hasRole(role) Tell if the actor has the specified role. Parameters: Name Type Description role string The role name. Returns: true if the actor has the role. Type boolean × Search results Close "},"module-x2node-common.X2DataError.html":{"id":"module-x2node-common.X2DataError.html","title":"Class: X2DataError","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: X2DataError x2node-common. X2DataError Provided data error. new X2DataError(message) Create new error to throw. Parameters: Name Type Description message string The error description. Extends external:Error × Search results Close "},"module-x2node-common.X2SyntaxError.html":{"id":"module-x2node-common.X2SyntaxError.html","title":"Class: X2SyntaxError","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: X2SyntaxError x2node-common. X2SyntaxError Provided syntax error. new X2SyntaxError(message) Create new error to throw. Parameters: Name Type Description message string The error description. Extends external:Error × Search results Close "},"module-x2node-common.X2UsageError.html":{"id":"module-x2node-common.X2UsageError.html","title":"Class: X2UsageError","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: X2UsageError x2node-common. X2UsageError General framework usage error, such as invalid arguments, inappropriate function call, etc. new X2UsageError(message) Create new error to throw. Parameters: Name Type Description message string The error description. Extends external:Error × Search results Close "},"module-x2node-dbos.html":{"id":"module-x2node-dbos.html","title":"Module: x2node-dbos","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Module: x2node-dbos Database operations module. Implements: module:x2node-records.Extension Requires module:x2node-common module:x2node-records module:x2node-pointers module:x2node-patches module:x2node-validators module:x2node-rsparser Classes BasicDBDriver DBOExecutionContext DBOFactory DeleteDBO FetchDBO InsertDBO Transaction UpdateDBO Mixins PropertiesContainerWithDBOs PropertyDescriptorWithDBOs RecordTypeDescriptorWithDBOs Methods &lt;static&gt; createDBOFactory(recordTypes, dbDriver [, options]) Create new database operations (DBO) factory using the specified database driver and the record types library. Once created, the factory instance can be used by the application throughout its life cycle. Parameters: Name Type Argument Description recordTypes module:x2node-records~RecordTypesLibrary Record types library. The factory builds operations against this library. The library must be extended with the x2node-dbos module. dbDriver string | module:x2node-dbos.DBDriver Either a built-in database driver name, or a custom database driver implementation. Available built-in drivers include: &quot;mysql&quot; (for https://www.npmjs.com/package/mysql and compatible others) and &quot;pg&quot; (for https://www.npmjs.com/package/pg). options Object.&lt;string, *&gt; &lt;optional&gt; Options. If provided, the options are passed to the DB driver constructor. Throws: If the provided driver name is invalid. Type module:x2node-common.X2UsageError Returns: DBO factory instance. Type module:x2node-dbos~DBOFactory &lt;static&gt; expr(valueExpr) Get value expression placeholder object that can be used in DBO specifications. Parameters: Name Type Description valueExpr string Value expression text. Returns: Placeholder object. Type Object &lt;static&gt; isExpr(v) Tell if the provided argument is a value expression placeholder. Parameters: Name Type Description v * Argument to test. Safe to pass null, undefined, etc. Returns: true if the provided argument is a value expression placeholder. Type boolean &lt;static&gt; isParam(v) Tell if the provided argument is a parameter placeholder. Parameters: Name Type Description v * Argument to test. Safe to pass null, undefined, etc. Returns: true if the provided argument is a parameter placeholder. Type boolean &lt;static&gt; isSupported(obj) Tell if the provided object is supported by the module. Currently, only a record types library instance can be tested using this function and it tells if the library was constructed with the DBOs extension. Parameters: Name Type Description obj * Object to test. Returns: true if supported by the DBOs module. Type boolean &lt;static&gt; param(paramName) Get parameter placeholder object that can be used in DBO specifications. Parameters: Name Type Description paramName string Parameter name. Returns: Placeholder object. Type Object × Search results Close "},"module-x2node-dbos.BasicDBDriver.html":{"id":"module-x2node-dbos.BasicDBDriver.html","title":"Class: BasicDBDriver","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: BasicDBDriver x2node-dbos. BasicDBDriver SQL database driver base class. &lt;abstract&gt; new BasicDBDriver() Implements: module:x2node-dbos.DBDriver Methods booleanLiteral(val) Get Boolean SQL literal. Parameters: Name Type Description val * The ES value. Implements: module:x2node-dbos.DBDriver#booleanLiteral Returns: String representing Boolean true or false in SQL. Type string booleanToNull(expr) Make SQL expression that evaluates the specified SQL expression and resolves into SQL TRUE or SQL NULL if the result is true or false respectively. Parameters: Name Type Description expr string The Boolean SQL expression to evaluate. Implements: module:x2node-dbos.DBDriver#booleanToNull Returns: SQL expression that evaluates to TRUE or NULL. Type string coalesce(exprs) Make SQL expression that evaluates to the result of the first of the specified SQL expressions that is not NULL, or NULL if all evaluate to NULL. Parameters: Name Type Argument Description exprs string &lt;repeatable&gt; SQL expressions to evaluate. Implements: module:x2node-dbos.DBDriver#coalesce Returns: SQL expression that evaluates to the first non-NULL. Type string safeLabel(label) Get SQL fragment that can be used as a column label in a SELECT clause from the specified string. Parameters: Name Type Description label string The ES string to use as a column label. Implements: module:x2node-dbos.DBDriver#safeLabel Returns: SQL fragment for the label. Type string safeLikePatternFromString(str) Make necessary escapes in the specified string to make it safe to use as a SQL LIKE condition pattern. Parameters: Name Type Description str string The ES string to make safe to use as a pattern. Implements: module:x2node-dbos.DBDriver#safeLikePatternFromString Returns: The string with all the necessary escapes. Type string sql(val) Get SQL for the specified ES value. Parameters: Name Type Description val * The ES value. If object, toString() is called on it and the result is returned as is. If null, string &quot;NULL&quot; is returned. Implements: module:x2node-dbos.DBDriver#sql Returns: String representing the value in SQL, or null if the value cannot be represented in SQL (includes undefined, NaN, Infinity and arrays). Type string stringLeftPad(expr, width, pad) Make SQL expression that pads the specified string SQL expression with the specified character on the left until the specified length is achieved. Parameters: Name Type Description expr string The string SQL expression. width number Minimum resulting string length to achieve with padding. pad string The character to use as the padding. Implements: module:x2node-dbos.DBDriver#stringLeftPad Returns: SQL expression that pads the string on the left. Type string stringLength(expr) Make SQL expression that gets the string length for the specified string SQL expression. Parameters: Name Type Description expr string The string SQL expression. Implements: module:x2node-dbos.DBDriver#stringLength Returns: SQL expression that gets the string length. Type string stringLiteral(val) Get string SQL literal. Parameters: Name Type Description val string The ES string. Implements: module:x2node-dbos.DBDriver#stringLiteral Returns: String representing the string in SQL. Type string stringLowercase(expr) Make SQL expression that converts the specified string SQL expression to lower case. Parameters: Name Type Description expr string The string SQL expression. Implements: module:x2node-dbos.DBDriver#stringLowercase Returns: SQL expression that converts the string to lower case. Type string stringUppercase(expr) Make SQL expression that converts the specified string SQL expression to upper case. Parameters: Name Type Description expr string The string SQL expression. Implements: module:x2node-dbos.DBDriver#stringUppercase Returns: SQL expression that converts the string to upper case. Type string × Search results Close "},"module-x2node-dbos.DataSource.html":{"id":"module-x2node-dbos.DataSource.html","title":"Interface: DataSource","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interface: DataSource x2node-dbos. DataSource Interface for data sources that provide connections to the database. Methods getConnection() Get database connection. Returns: Promise of a database specific connection object. Type Promise.&lt;*&gt; releaseConnection(connection [, err]) Release database connection. Parameters: Name Type Argument Description connection * Database specific connection object previously acquired using getConnection() method. err external:Error &lt;optional&gt; Optional error object if the connection is being released after a database error. × Search results Close "},"module-x2node-dbos.DBDriver.html":{"id":"module-x2node-dbos.DBDriver.html","title":"Interface: DBDriver","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interface: DBDriver x2node-dbos. DBDriver Interface for database drivers. Methods booleanLiteral(val) Get Boolean SQL literal. Parameters: Name Type Description val * The ES value. Returns: String representing Boolean true or false in SQL. Type string booleanToNull(expr) Make SQL expression that evaluates the specified SQL expression and resolves into SQL TRUE or SQL NULL if the result is true or false respectively. Parameters: Name Type Description expr string The Boolean SQL expression to evaluate. Returns: SQL expression that evaluates to TRUE or NULL. Type string buildDeleteWithJoins(fromTableName, fromTableAlias [, refTables] [, filterExpr] [, filterExprParen]) Construct a SQL DELETE statement that can have a WHERE clause that uses columns from other joined tables. Note, that the statement still deletes rows only from a single table. Parameters: Name Type Argument Description fromTableName string Name of the table, from which to delete. fromTableAlias string Alias for the fromTableName used in the join conditions and the WHERE clause. refTables Array.&lt;Object&gt; &lt;optional&gt; Array of descriptors of reference tables joined to the fromTableName table and used in the WHERE clause. Properties Name Type Description tableName string Reference table name. tableAlias string Reference table alias used in the join condition and the WHERE clause. joinCondition string Boolean SQL expression for the reference table join condition. filterExpr string &lt;optional&gt; Boolean SQL expression for the WHERE clause. The expression may use fromTableAlias and aliases of the reference tables to refer to the corresponding tables. filterExprParen boolean &lt;optional&gt; true indicates that if the filterExpr is included in a logical conjunction (the &quot;AND&quot; Boolean operation), it needs to be enclosed in parenthesis. Returns: The resulting DELETE statement. Type string buildLockTables( [exclusiveLockTables] [, sharedLockTables]) Construct statement for placing transaction-scoped full table locks. Not all databases support it (e.g. MySQL supports explicit table locks but they are not transaction-scoped but session-scoped). Parameters: Name Type Argument Description exclusiveLockTables Array.&lt;string&gt; &lt;optional&gt; List of tables to lock in exclusive mode. sharedLockTables Array.&lt;string&gt; &lt;optional&gt; List of tables to lock in shared mode. Throws: If the database does not support it. Type external:Error Returns: Statement to run to place the requested locks. Type string buildUpdateWithJoins(updateTableName, updateTableAlias, sets [, refTables] [, filterExpr] [, filterExprParen]) Construct a SQL UPDATE statement that can have a WHERE clause that uses columns from other joined tables. Note, that the statement still updates rows of only a single table. Parameters: Name Type Argument Description updateTableName string Name of the table to update. updateTableAlias string Alias for the updateTableName used in the join conditions and the WHERE clause. sets Array.&lt;Object&gt; The &quot;set&quot; statements, one for each column. Properties Name Type Description columnName string Name of a column in the updateTableName table. value string SQL value expression to set in the column. refTables Array.&lt;Object&gt; &lt;optional&gt; Array of descriptors of reference tables joined to the updateTableName table and used in the WHERE clause. Properties Name Type Description tableName string Reference table name. tableAlias string Reference table alias used in the join condition and the WHERE clause. joinCondition string Boolean SQL expression for the reference table join condition. filterExpr string &lt;optional&gt; Boolean SQL expression for the WHERE clause. The expression may use updateTableAlias and aliases of the reference tables to refer to the corresponding tables. filterExprParen boolean &lt;optional&gt; true indicates that if the filterExpr is included in a logical conjunction (the &quot;AND&quot; Boolean operation), it needs to be enclosed in parenthesis. Returns: The resulting UPDATE statement. Type string buildUpsert(tableName, insertColumns, insertValues, uniqueColumn, sets) Build a SQL statement that performs an &quot;upsert&quot; operation. Parameters: Name Type Description tableName string Name of the table for the update/insert. insertColumns string Comma-separated list of columns for the INSERT statement. insertValues string Comma-separated list of values for the INSERT statement's VALUES clause. uniqueColumn string Name of the column that has the unique constraint that is expected to be violated on the insert attempt. sets string Comma-separated list of column/value assignments for the UPDATE statement's SET clause. Returns: The resulting SQL statement. Type string castToString(expr) Make SQL expression that converts the specified SQL expression to string. Parameters: Name Type Description expr string The SQL expression to convert to string. Returns: SQL expression that evaluates to a string value. Type string coalesce(exprs) Make SQL expression that evaluates to the result of the first of the specified SQL expressions that is not NULL, or NULL if all evaluate to NULL. Parameters: Name Type Argument Description exprs string &lt;repeatable&gt; SQL expressions to evaluate. Returns: SQL expression that evaluates to the first non-NULL. Type string commitTransaction(connection, handler) Commit transaction on the specified database connection. Parameters: Name Type Description connection * Driver-specific database connection object. handler Object The operation result handler. Properties Name Type Description onSuccess function Function that gets called upon operation success. onError function Function that gets called upon operation failure. The function receives a single argument with the error object. connect(source, handler) Acquire database connection. Parameters: Name Type Description source * Driver-specific database connections source. handler Object Connection result handler. Properties Name Type Description onSuccess function Function that gets called when the connection is acquired. The connection is passed to it as the only argument. onError function Function that gets called when connection could not be acquired. The error is passed to is as the only argument. createVersionTableIfNotExists(connection, tableName, handler) Create special table used to track versions if it does not exist yet. The table has three columns: name (varchar 64, primary key), modified_on (timestamp) and version (unsigned integer). Parameters: Name Type Description connection * Driver-specific database connection object. tableName string Table name. handler Object The operation result handler. Properties Name Type Argument Description onSuccess function Function that gets called upon operation success. onError function Function that gets called upon operation failure. The function receives a single argument with the error object. trace function &lt;optional&gt; Function that gets called before the method sends a SQL command to the database. The command SQL is passed to the function as its only argument. executeInsert(connection, statement, handler [, idColumn]) Execute specified INSERT statement. Parameters: Name Type Argument Description connection * Driver-specific database connection object. statement string The INSERT statement to execute. handler Object The operation result handler. Properties Name Type Description onSuccess function Function that gets called upon operation success. If idColumn argument is provided, the function gets the inserted record id as its only argument. onError function Function that gets called upon operation failure. The function receives a single argument with the error object. idColumn string &lt;optional&gt; Name of the auto-generated id column in the table. If specified, the result promise will resovle to the generated id value. executeQuery(connection, statement, handler) Execute specified statement on the specified database connection. The statement may be returning a result set. Parameters: Name Type Description connection * Driver-specific database connection object. statement string The statement to execute. handler Object The operation result handler. Properties Name Type Argument Description onSuccess function Function that gets called upon operation success. onError function Function that gets called upon operation failure. The function receives a single argument with the error object. onHeader function &lt;optional&gt; Function that gets called when the SELECT query result set descriptor is received from the database. The function receives a single argument, which is an array of strings corresponding to the column names in the result set. onRow function &lt;optional&gt; Function that gets called when the SELECT query result set row is received from the database. The function gets a single argument, which, depending on the driver, can be an array of values, one for each column, or an object with column names as the keys and the corresponding values as the values. executeUpdate(connection, statement, handler) Execute specified statement on the specified database connection. The statement is intended to modify data (such as UPDATE and DELETE statements). Parameters: Name Type Description connection * Driver-specific database connection object. statement string The statement to execute. handler Object The operation result handler. Properties Name Type Description onSuccess function Function that gets called upon operation success. The function gets the number of affected rows as its only argument. onError function Function that gets called upon operation failure. The function receives a single argument with the error object. getSessionVariable(connection, varName, type, handler) Get server-side session variable. Parameters: Name Type Description connection * Driver-specific database connection object. varName string Variable name. type string Expected variable type: &quot;number&quot;, &quot;boolean&quot; or &quot;string&quot;. handler Object The operation result handler. Properties Name Type Description onSuccess function Function that gets called upon operation success. The function receives the variable value as its only argument. If the variable is not set, undefined is passed to the function. onError function Function that gets called upon operation failure. The function receives a single argument with the error object. makeRangedSelect(selectStmt, offset, limit) Make specified SELECT statement ranged. Parameters: Name Type Description selectStmt string The SELECT statement to make ranged. offset number Zero-based number of the first row in the range. limit number Maximum number of rows in the range. Returns: Ranged SELECT statement. Type string makeSelectWithLocks(selectStmt [, exclusiveLockTables] [, sharedLockTables]) Make the specified SELECT statement explicitely lock involved rows. Parameters: Name Type Argument Description selectStmt string The SELECT statement. exclusiveLockTables Array.&lt;Object&gt; &lt;optional&gt; Descriptors of tables to lock in exclusive mode. Descriptors have two properties: tableName and tableAlias. sharedLockTables Array.&lt;Object&gt; &lt;optional&gt; Descriptors of tables to lock in shared mode. Descriptors have two properties: tableName and tableAlias. Returns: SELECT statement based on the provided one that places the requested locks. If provided table lists were empty, the original query is returned unchanged. nullableConcat(exprs) Make SQL expression that concatenates the specified string SQL expressions and evaluates to NULL if any of them is NULL. Parameters: Name Type Argument Description exprs string &lt;repeatable&gt; String SQL expressions to concatenate. Returns: SQL expression that concatenates the specified string SQL expressions. Type string patternMatch(expr, pattern, invert, caseSensitive) Make Boolean SQL expression that matches the specified character value expression against a LIKE pattern. Parameters: Name Type Description expr string SQL character expression to match. pattern string SQL expression for the LIKE pattern. invert boolean true to test if the value does not match the pattern. caseSensitive boolean true to make the test case-sensitive. Returns: Boolean SQL expression for the test. Type string regexpMatch(expr, regexp, invert, caseSensitive) Make Boolean SQL expression that matches the specified character value expression against a regular expression. Parameters: Name Type Description expr string SQL character expression to match. regexp string SQL expression for the regular expression. invert boolean true to test if the value does not match the regular expression. caseSensitive boolean true to make the test case-sensitive. Returns: Boolean SQL expression for the test. Type string releaseConnection(source, connection [, err]) Release database connection previously acquired using the connect() method. Parameters: Name Type Argument Description source * Driver-specific database connections source. connection * The connection to release. err external:Error &lt;optional&gt; Optional error object if the connection is being release after a database error. rollbackTransaction(connection, handler) Roll back transaction on the specified database connection. Parameters: Name Type Description connection * Driver-specific database connection object. handler Object The operation result handler. Properties Name Type Description onSuccess function Function that gets called upon operation success. onError function Function that gets called upon operation failure. The function receives a single argument with the error object. safeLabel(label) Get SQL fragment that can be used as a column label in a SELECT clause from the specified string. Parameters: Name Type Description label string The ES string to use as a column label. Returns: SQL fragment for the label. Type string safeLikePatternFromString(str) Make necessary escapes in the specified string to make it safe to use as a SQL LIKE condition pattern. Parameters: Name Type Description str string The ES string to make safe to use as a pattern. Returns: The string with all the necessary escapes. Type string selectIntoAnchorTable(connection, anchorTableName, topTableName, idColumnName, idExpr, statementStump, handler) Load the results of a SELECT query that is used to select record ids into a temporary anchor table. The resulting table will have two columns: &quot;id&quot; for the record ids returned by the SELECT query, and &quot;ord&quot; with sequential numbers reflecting the order, in which the SELECT query returned the ids. Parameters: Name Type Description connection * Driver-specific database connection object. anchorTableName string Name for the temporary anchor table. topTableName string Name of the top table in the SELECT query. This is the table that contains the ids. idColumnName string Name of the column in topTableName table that contains the ids being loaded into the anchor table. idExpr string SQL value expression for the ids returned by the SELECT query. statementStump string The SELECT query with &quot;{*}&quot; placeholder in the place of the select list. handler Object The operation result handler. Properties Name Type Argument Description onSuccess function Function that gets called upon operation success. The function receives the number of ids loaded into the anchor table as its only argument. onError function Function that gets called upon operation failure. The function receives a single argument with the error object. trace function &lt;optional&gt; Function that gets called before the method sends a SQL command to the database. The command SQL is passed to the function as its only argument. setSessionVariable(connection, varName, valueExpr, handler) Set server-side session variable. Parameters: Name Type Description connection * Driver-specific database connection object. varName string Variable name. valueExpr string SQL expression for the variable value. handler Object The operation result handler. Properties Name Type Description onSuccess function Function that gets called upon operation success. onError function Function that gets called upon operation failure. The function receives a single argument with the error object. sql(val) Get SQL for the specified ES value. Parameters: Name Type Description val * The ES value. If object, toString() is called on it and the result is returned as is. If null, string &quot;NULL&quot; is returned. Returns: String representing the value in SQL, or null if the value cannot be represented in SQL (includes undefined, NaN, Infinity and arrays). Type string startTransaction(connection, handler) Start transaction on the specified database connection. Parameters: Name Type Description connection * Driver-specific database connection object. handler Object The operation result handler. Properties Name Type Description onSuccess function Function that gets called upon operation success. onError function Function that gets called upon operation failure. The function receives a single argument with the error object. stringLeftPad(expr, width, pad) Make SQL expression that pads the specified string SQL expression with the specified character on the left until the specified length is achieved. Parameters: Name Type Description expr string The string SQL expression. width number Minimum resulting string length to achieve with padding. pad string The character to use as the padding. Returns: SQL expression that pads the string on the left. Type string stringLength(expr) Make SQL expression that gets the string length for the specified string SQL expression. Parameters: Name Type Description expr string The string SQL expression. Returns: SQL expression that gets the string length. Type string stringLiteral(val) Get string SQL literal. Parameters: Name Type Description val string The ES string. Returns: String representing the string in SQL. Type string stringLowercase(expr) Make SQL expression that converts the specified string SQL expression to lower case. Parameters: Name Type Description expr string The string SQL expression. Returns: SQL expression that converts the string to lower case. Type string stringSubstring(expr, from [, len]) Make SQL expression for getting a substring of the specified string SQL expression. Parameters: Name Type Argument Description expr string SQL string expression. from number | string Zero-based first character to include in the substring. If not number, assumed to be a SQL expression. len number | string &lt;optional&gt; Optional maximum length of the substring. If not number, assumed to be a SQL expression. If not specified, the end of the string is assumed. Returns: SQL expression for the substring. Type string stringUppercase(expr) Make SQL expression that converts the specified string SQL expression to upper case. Parameters: Name Type Description expr string The string SQL expression. Returns: SQL expression that converts the string to upper case. Type string supportsRowLocksWithAggregates() Tell if the underlying database supports explicit row locking in SELECT queries with aggregates (e.g. MySQL) or not (e.g. PostgreSQL). Returns: true if supported. Type boolean updateVersionTable(connection, tableName, itemNames, modificationTimestamp, handler) Update versions tracking table. Parameters: Name Type Description connection * Driver-specific database connection object. tableName string Table name. itemNames Array.&lt;string&gt; Names of the items to update. modificationTimestamp string Modification timestamp. handler Object The operation result handler. Properties Name Type Argument Description onSuccess function Function that gets called upon operation success. onError function Function that gets called upon operation failure. The function receives a single argument with the error object. trace function &lt;optional&gt; Function that gets called before the method sends a SQL command to the database. The command SQL is passed to the function as its only argument. × Search results Close "},"module-x2node-dbos.PropertiesContainerWithDBOs.html":{"id":"module-x2node-dbos.PropertiesContainerWithDBOs.html","title":"Mixin: PropertiesContainerWithDBOs","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Mixin: PropertiesContainerWithDBOs x2node-dbos. PropertiesContainerWithDBOs DBOs module specific RecordTypeDescriptor extension. × Search results Close "},"module-x2node-dbos.PropertyDescriptorWithDBOs.html":{"id":"module-x2node-dbos.PropertyDescriptorWithDBOs.html","title":"Mixin: PropertyDescriptorWithDBOs","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Mixin: PropertyDescriptorWithDBOs x2node-dbos. PropertyDescriptorWithDBOs DBOs module specific PropertyDescriptor extension. Members &lt;readonly&gt; aggregatedPropPath :string For an aggregate property, path of the aggregated collection property starting from the record type. Type: string &lt;readonly&gt; aggregateFunc :string For an aggregate property, the aggregation function, which may be &quot;COUNT&quot;, &quot;MAX&quot;, &quot;MIN&quot;, &quot;SUM&quot; or &quot;AVG&quot;. Type: string &lt;readonly&gt; column :string Name of the database column used to store the property value, or undefined if the property is calculated or a dependent rereference. Type: string &lt;readonly&gt; fetchByDefault :boolean true if the property is fetched by default (included in the fetch operation result when addressed with a wildcard pattern). Type: boolean &lt;readonly&gt; generator :string|function For a property, whose value is generated for new records, this is the generator, which can be a string &quot;auto&quot; (for automatically generated by the database), or a function that takes the database connection as its only argument, and returns either the id value or a promise of it. The property descriptor is made available to the generator function as this. Type: string | function &lt;readonly&gt; indexColumn :string For an array property, the name of the database column that contains the element indexes, or nothing if the array does not utilize any. Type: string &lt;readonly&gt; keyColumn :string For a map property that does not utilize keyPropertyName, the name of the database column that contains the map entry keys. Type: string &lt;readonly&gt; parentIdColumn :string If table property is present, this is the name of the column in that table that points back to the main record table. Type: string &lt;readonly&gt; recordMetaInfoRole :string For a record meta-info property this is the property role, which can be one of the following: &quot;version&quot;, &quot;creationTimestamp&quot;, &quot;creationActor&quot;, &quot;modificationTimestamp&quot; or &quot;modificationActor&quot;. Type: string &lt;readonly&gt; reverseRefPropertyName :string For a dependent record reference property, name of the property in the target record type that refers back to this record type. A dependent record reference property can only appear among the top record type properties (not in a nested object). Type: string &lt;readonly&gt; table :string Name of the database table used to store the property value, or undefined if the property is calculated, a dependent rereference or stored in the main record table. Type: string &lt;readonly&gt; tableUnique :boolean For an id property (isId() returns true), tells if the id value is unique table-wide. Type: boolean Methods isAggregate() Tell if this is an aggregate property. If a property is an aggregate, isCalculated() also returns true and aggregatedPropPath and aggregateFunc descriptor properties are made available as well. Returns: true if aggregate property. Type boolean isCalculated() Tell if this is a calculated value property, which includes properties with a valueExpr attribute in the definition and aggregate properties. Returns: true if aggregate property. Type boolean isEntangled() Tell if the stored reference property is entangled with a stored reference property of its target record type (they share the same link table). Returns: true if entangled reference property. Type boolean isFiltered() Tell if filtered collection view property. Returns: true if filtered property. Type boolean isGenerated() Tell if the property value is generated for new records. If so, generator descrpitor property has a value. Returns: true if generated property. Type boolean isOrdered() Tell if ordered collection property. Returns: true if ordered property. Type boolean isRecordMetaInfo() Tell if the property is a record meta-info property, in which case the recordMetaInfoRole descrpitor property exposes the role. Returns: true if record meta-info property. Type boolean isWeakDependency() For a dependent record reference property (one that has reverseRefPropertyName descriptor property), tell if the dependency is weak. A weak dependency means that when the referring record is being deleted, no attempt is made to cascade the deletion to the referred record(s). Strongly dependent records, on the other hand, are automatically deleted when the referring record is deleted (the deletion operation is cascaded over the strong dependencies). Returns: true if weak dependency. Type boolean × Search results Close "},"module-x2node-dbos.RecordCollectionsMonitor.html":{"id":"module-x2node-dbos.RecordCollectionsMonitor.html","title":"Interface: RecordCollectionsMonitor","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interface: RecordCollectionsMonitor x2node-dbos. RecordCollectionsMonitor Interface for components that monitor updates to record collections of each record type as a whole. Methods collectionsUpdated(ctx, recordTypeNames) Called by the DBOs from within the transactions when records of the given record types are modified. The method is called just before the transaction is committed. Parameters: Name Type Description ctx module:x2node-dbos~DBOExecutionContext DBO execution context. recordTypeNames Set.&lt;string&gt; Names of updated record types. Returns: If a Promise is returned, the transaction is not committed until the promise is fulfilled. If the promise is rejected, the whole transaction gets rolled back. Any other type of returned value is ignored and the transaction is committed immediately. Type Promise getCollectionsVersion(tx, recordTypeNames [, lockType]) Get record collection version information for the specified record types. Parameters: Name Type Argument Description tx module:x2node-dbos~Transaction The transaction. recordTypeNames Set.&lt;string&gt; Names of the record types to include. lockType string &lt;optional&gt; If provided, the collections are locked until the end of the transaction. The value can be either &quot;shared&quot; or &quot;exclusive&quot;. Returns: Promise of the result object. The result object includes two properties: modifiedOn, which is a Date representing the last modification timestamp of the records collection among the requested ones that was modified most recently, and version, which is a number that is a sum of all requested record collection versions. Type Promise.&lt;Object&gt; × Search results Close "},"module-x2node-dbos.RecordTypeDescriptorWithDBOs.html":{"id":"module-x2node-dbos.RecordTypeDescriptorWithDBOs.html","title":"Mixin: RecordTypeDescriptorWithDBOs","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Mixin: RecordTypeDescriptorWithDBOs x2node-dbos. RecordTypeDescriptorWithDBOs DBOs module specific RecordTypeDescriptor extension. Members &lt;readonly&gt; superRecordTypeName :Symbol Super record type name. Type: Symbol &lt;readonly&gt; table :string Top table used to store the record type's records. Type: string Methods getRecordMetaInfoPropName(role) Get name of the property for the specified record meta-info role. Parameters: Name Type Description role string Record meta-info role: &quot;version&quot;, &quot;creationTimestamp&quot;, &quot;creationActor&quot;, &quot;modificationTimestamp&quot; or &quot;modificationActor&quot;. Returns: The property name, or undefined if none. Type string × Search results Close "},"module-x2node-dbos-monitor-dbtable.html":{"id":"module-x2node-dbos-monitor-dbtable.html","title":"Module: x2node-dbos-monitor-dbtable","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Module: x2node-dbos-monitor-dbtable Implementation of the record collections monitor for the DBOs module that uses a database table to store current record collections version information. Requires module:x2node-common Methods &lt;static&gt; assignTo(dboFactory, ds) Assign the monitor to the specified DBO factory and initialize it. Parameters: Name Type Description dboFactory module:x2node-dbos~DBOFactory The DBO factory, to which to to assign the monitor. ds module:x2node-dbos.DataSource Database connection data source used by the monitor to initialize the record collections version information table. Returns: The monitor assigned to the DBO factory. Type module:x2node-dbos.RecordCollectionsMonitor × Search results Close "},"module-x2node-dbos-DBOExecutionContext.html":{"id":"module-x2node-dbos-DBOExecutionContext.html","title":"Class: DBOExecutionContext","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: DBOExecutionContext x2node-dbos~ DBOExecutionContext Base class for various DBO execution contexts. new DBOExecutionContext(dbo, txOrCon, actor [, filterParams] [, entangledUpdates]) Note: The constructor is not accessible from the client code. Instances are provided to the application components by the framework where needed. Parameters: Name Type Argument Description dbo module:x2node-dbos~AbstractDBO The DBO. txOrCon module:x2node-dbos~Transaction | * Active transaction or database connection. actor module:x2node-common.Actor &lt;nullable&gt; Actor executing the command. filterParams Object.&lt;string, *&gt; &lt;optional&gt; Optional filter parameters passed to the DBO execution. entangledUpdates Object.&lt;string, Set.&lt;(string|number)&gt;&gt; &lt;optional&gt; Optional entangled updates object. Members &lt;readonly&gt; actor :module:x2node-common.Actor Actor executing the operation, if any. Type: module:x2node-common.Actor &lt;readonly&gt; connection :* The database connection. Type: * &lt;readonly&gt; dbDriver :module:x2node-dbos.DBDriver The database driver. Type: module:x2node-dbos.DBDriver &lt;readonly&gt; executedOn :Date Date and time of the operation execution. Type: Date &lt;readonly&gt; filterParams :Object.&lt;string, *&gt; Filter parameters passed to the DBO's execute method. Type: Object.&lt;string, *&gt; &lt;readonly&gt; recordTypes :module:x2node-records~RecordTypesLibrary Record types library. Type: module:x2node-records~RecordTypesLibrary &lt;readonly&gt; transaction :module:x2node-dbos~Transaction The transaction. Type: module:x2node-dbos~Transaction Methods log(msg) Log debug message on behalf of the DBO. Parameters: Name Type Description msg string The message. × Search results Close "},"module-x2node-dbos-DBOFactory.html":{"id":"module-x2node-dbos-DBOFactory.html","title":"Class: DBOFactory","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: DBOFactory x2node-dbos~ DBOFactory Database operations (DBO) factory. new DBOFactory(dbDriver, recordTypes) Note: The constructor is not accessible from the client code. Instances are created using module's createDBOFactory() function. Parameters: Name Type Description dbDriver module:x2node-dbos.DBDriver Database driver to use. recordTypes module:x2node-records~RecordTypesLibrary Record types library to build DBOs against. Members &lt;readonly&gt; dbDriver :module:x2node-dbos.DBDriver The database driver. Type: module:x2node-dbos.DBDriver &lt;readonly&gt; recordCollectionsMonitor :module:x2node-dbos.RecordCollectionsMonitor Record collections monitor assigned to the factory. Type: module:x2node-dbos.RecordCollectionsMonitor &lt;readonly&gt; recordTypes :module:x2node-records~RecordTypesLibrary Record types library associated with the factory. Type: module:x2node-records~RecordTypesLibrary Methods adaptDataSource(source) Create standardized data source object for the database driver associated with the DBO factory. Parameters: Name Type Description source * Driver-specific data source object. Returns: The data source. Type module:x2node-dbos.DataSource buildDelete(recordTypeName [, filter]) Build a database delete operarion, which deletes records with DELETE statements. Once built, the DBO can be executed multiple times with different filter parameters. Parameters: Name Type Argument Description recordTypeName string Name of the record type to delete. filter Array.&lt;Array&gt; &lt;optional&gt; The filter specification. If unspecified, all records of the type are deleted. Throws: If record type is unknown or provided filter specification is invalid. Type module:x2node-common.X2UsageError Returns: The DBO object. Type module:x2node-dbos~DeleteDBO buildFetch(recordTypeName [, querySpec]) Build a database fetch operation, which queries the database with SELECT statements and returns the results. Once built, the DBO can be executed multiple times with different filter parameters. Parameters: Name Type Argument Description recordTypeName string Name of the top record type to fetch. querySpec Object &lt;optional&gt; Query specification. If unspecified (same as an empty object), all records are fetched with all properties that are fetched by default and the records are returned in no particular order. Properties Name Type Argument Description props Array.&lt;string&gt; &lt;optional&gt; Record properties to include. If unspecified, all properties that are fetched by default are included (equivalent to ['*']). Note, that record id property is always included. To include super-properties, the super-property name is included among the patterns starting with a dot. Records are not fetched if only super-properties are provided. To include records as well, a &quot;*&quot; can be added. filter Array.&lt;Array&gt; &lt;optional&gt; The filter specification. If unspecified, all records are included. order Array.&lt;string&gt; &lt;optional&gt; The records order specification. If unspecified, the records are returned in no particular order. range Array.&lt;number&gt; &lt;optional&gt; The range specification, which is a two-element array where the first element is the first record index starting from zero and the second element is the maximum number of records to return. If the range is not specified, all matching records are returned. lock string &lt;optional&gt; Either &quot;shared&quot; or &quot;exclusive&quot;. If &quot;shared&quot;, all involved records will become protected against modification until the end of the transaction. If &quot;exclusive&quot;, the matched records of the record type being fetched are protected from reading by other transactions until this transaction completes. Any participating records of referred record types get locked in &quot;shared&quot; more and are protected against modification until the end of the transaction. If lock is not specified, the DBO does not make any effort to lock the records. Throws: If the top record type is unknown. Type module:x2node-common.X2UsageError If the provided query specification is invalid. Type module:x2node-common.X2SyntaxError Returns: The DBO object. Type module:x2node-dbos~FetchDBO buildInsert(recordTypeName, record) Build a database insert operation, which creates new records with INSERT statements. Parameters: Name Type Description recordTypeName string Name of the record type to insert. record Object Record template to insert. Throws: If the provided record data is invalid or the record type is unknown. Type module:x2node-common.X2UsageError Returns: The DBO object. Type module:x2node-dbos~InsertDBO buildUpdate(recordTypeName, patch [, filter]) Build a database update operarion, which updates records with UPDATE (and potentially INSERT and DELETE for collection properties) statements. Once built, the DBO can be executed multiple times with different filter parameters. Note: The DBO is not intended for bulk updates that include large numbers of records. It loads and locks all matching records (only the properties it needs) into memory and then updates each record one by one all within the same transaction. The most common use-case for the DBO is to update a single record matched by its id. Also note how the &quot;test&quot; patch operation is handled: When a &quot;test&quot; operation fails for a record, no changes for that record are made in the database. This does not affect other records in the matched set, neither it affects the transaction. Whether there were any records that were not patched because of a failed &quot;test&quot; operation is reported back in the operation result object (see the testFailed flag and failedRecordIds array). Parameters: Name Type Argument Description recordTypeName string Name of the record type to update. patch module:x2node-patches~RecordPatch The patch. filter Array.&lt;Array&gt; &lt;optional&gt; The filter specification. If unspecified, all records of the type are updated. Throws: If record type is unknown or provided filter is invalid. Type module:x2node-common.X2UsageError Returns: The DBO object. Type module:x2node-dbos~UpdateDBO newTransaction(connection) Get new transaction handler. The transaction has not been started. Parameters: Name Type Description connection * The database connection compatible with the database driver. Returns: The transaction handler. Type module:x2node-dbos~Transaction setRecordCollectionsMonitor(monitor) Assign record collections monitor to the factory. Every DBO created by the factory will report record collection updates to this monitor. Parameters: Name Type Description monitor module:x2node-dbos.RecordCollectionsMonitor The monitor. Returns: This factory. Type module:x2node-dbos~DBOFactory × Search results Close "},"module-x2node-dbos-DeleteDBO.html":{"id":"module-x2node-dbos-DeleteDBO.html","title":"Class: DeleteDBO","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: DeleteDBO x2node-dbos~ DeleteDBO Delete database operation implementation (SQL DELETE query). new DeleteDBO(dbDriver, recordTypes, rcMonitor, recordTypeDesc [, filterSpec]) Note: The constructor is not accessible from the client code. Instances are created using DBOFactory. Parameters: Name Type Argument Description dbDriver module:x2node-dbos.DBDriver The database driver. recordTypes module:x2node-records~RecordTypesLibrary Record types library. rcMonitor module:x2node-dbos.RecordCollectionsMonitor The record collections monitor. recordTypeDesc module:x2node-records~RecordTypeDescriptor The record type descriptor. filterSpec Array.&lt;Array&gt; &lt;optional&gt; Optional filter specification. Extends module:x2node-dbos~AbstractDBO Methods _createExecuteStatementCommand(stmt [, stmtId]) Build a DBO command that simply executes the specified SQL statement. The command also calls context's affectedRows() method upon completion. Parameters: Name Type Argument Description stmt string The SQL statement (may contain param placeholders). stmtId * &lt;optional&gt; DBO-specific statement id, if any. Inherited From: module:x2node-dbos~AbstractDBO#_createExecuteStatementCommand Returns: The command. Type module:x2node-dbos.DBOCommand _createLoadAnchorTableCommand(idsQueryTree [, filter] [, order] [, range] [, lockType]) Build a DBO command that loads record ids into a temporary anchor table used for multi-branch fetches. The anchor table has the name of the main record type table prefixed with &quot;q_&quot; and has two columns: &quot;id&quot; and &quot;ord&quot;. Parameters: Name Type Argument Description idsQueryTree module:x2node-dbos~QueryTreeNode Query tree for the record ids. filter module:x2node-dbos~RecordsFilter &lt;optional&gt; &lt;nullable&gt; Optional filter for the ids SELECT query. order module:x2node-dbos~RecordsOrder &lt;optional&gt; &lt;nullable&gt; Optional order for the ids SELECT query. range module:x2node-dbos~RecordsRange &lt;optional&gt; &lt;nullable&gt; Optional range for the ids SELECT query. lockType string &lt;optional&gt; &lt;nullable&gt; Optional lock type: &quot;exclusive&quot; or &quot;shared&quot;. Inherited From: module:x2node-dbos~AbstractDBO#_createLoadAnchorTableCommand Returns: The command. Type module:x2node-dbos.DBOCommand _registerRecordTypeUpdate(recordTypeName) Register an update of a record of the specified record type. Parameters: Name Type Description recordTypeName string Updated record type name. Inherited From: module:x2node-dbos~AbstractDBO#_registerRecordTypeUpdate execute(txOrCon, actor [, filterParams]) Execute the operation. Parameters: Name Type Argument Description txOrCon module:x2node-dbos~Transaction | * The active database transaction, or database connection object compatible with the database driver to have the method automatically organize the transaction around the operation execution. actor module:x2node-common.Actor &lt;nullable&gt; Actor executing the DBO. filterParams Object.&lt;string, *&gt; &lt;optional&gt; Filter parameters. The keys are parameter names, the values are parameter values. Note, that no value type conversion is performed: strings are used as SQL strings, numbers as SQL numbers, etc. Arrays are expanded into comma-separated lists of element values. Functions are called without arguments and the results are used as values. Otherwise, values can be strings, numbers, Booleans and nulls. Throws: If provided filter parameters object is invalid (missing parameter, NaN value or value of unsupported type). Type module:x2node-common.X2UsageError Returns: The operation result object promise. Type Promise.&lt;module:x2node-dbos~DeleteDBO~Result&gt; Type Definitions Result Delete DBO execution result object. The result object's properties are names of record types, records of which were actually deleted, and the values are the numbers of records of the type deleted (zeros are not included). × Search results Close "},"module-x2node-dbos-FetchDBO.html":{"id":"module-x2node-dbos-FetchDBO.html","title":"Class: FetchDBO","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: FetchDBO x2node-dbos~ FetchDBO Fetch database operation implementation (SQL SELECT query). new FetchDBO(dbDriver, recordTypes, recordTypeName [, selectedPropPatterns] [, selectedSuperProps] [, filterSpec] [, orderSpec] [, rangeSpec] [, lockType]) Note: The constructor is not accessible from the client code. Instances are created using DBOFactory. Parameters: Name Type Argument Description dbDriver module:x2node-dbos.DBDriver The database driver. recordTypes module:x2node-records~RecordTypesLibrary Record types library. recordTypeName string Fetched record type name. selectedPropPatterns Iterable.&lt;string&gt; &lt;optional&gt; Selected record property patterns, or nothing if records should not be fetched. selectedSuperProps Array.&lt;string&gt; &lt;optional&gt; Selected super-property names, or nothing if no super-properties need to be fetched. filterSpec Array.&lt;Array&gt; &lt;optional&gt; Optional specification of the filter to apply to the selected records. orderSpec Array.&lt;string&gt; &lt;optional&gt; Optional order specification to apply to the selected records. rangeSpec Array.&lt;number&gt; &lt;optional&gt; Optional range specification to apply to the selected records. lockType string &lt;optional&gt; Lock type. Either &quot;shared&quot; or &quot;exclusive&quot;. Extends module:x2node-dbos~AbstractDBO Members &lt;readonly&gt; involvedRecordTypeNames :Set.&lt;string&gt; Names of all record types involved in the DBO. Type: Set.&lt;string&gt; Methods _createExecuteStatementCommand(stmt [, stmtId]) Build a DBO command that simply executes the specified SQL statement. The command also calls context's affectedRows() method upon completion. Parameters: Name Type Argument Description stmt string The SQL statement (may contain param placeholders). stmtId * &lt;optional&gt; DBO-specific statement id, if any. Inherited From: module:x2node-dbos~AbstractDBO#_createExecuteStatementCommand Returns: The command. Type module:x2node-dbos.DBOCommand _createLoadAnchorTableCommand(idsQueryTree [, filter] [, order] [, range] [, lockType]) Build a DBO command that loads record ids into a temporary anchor table used for multi-branch fetches. The anchor table has the name of the main record type table prefixed with &quot;q_&quot; and has two columns: &quot;id&quot; and &quot;ord&quot;. Parameters: Name Type Argument Description idsQueryTree module:x2node-dbos~QueryTreeNode Query tree for the record ids. filter module:x2node-dbos~RecordsFilter &lt;optional&gt; &lt;nullable&gt; Optional filter for the ids SELECT query. order module:x2node-dbos~RecordsOrder &lt;optional&gt; &lt;nullable&gt; Optional order for the ids SELECT query. range module:x2node-dbos~RecordsRange &lt;optional&gt; &lt;nullable&gt; Optional range for the ids SELECT query. lockType string &lt;optional&gt; &lt;nullable&gt; Optional lock type: &quot;exclusive&quot; or &quot;shared&quot;. Inherited From: module:x2node-dbos~AbstractDBO#_createLoadAnchorTableCommand Returns: The command. Type module:x2node-dbos.DBOCommand _registerRecordTypeUpdate(recordTypeName) Register an update of a record of the specified record type. Parameters: Name Type Description recordTypeName string Updated record type name. Inherited From: module:x2node-dbos~AbstractDBO#_registerRecordTypeUpdate execute(txOrCon, actor [, filterParams]) Execute the operation. Parameters: Name Type Argument Description txOrCon module:x2node-dbos~Transaction | * The active database transaction, or database connection object compatible with the database driver to have the method automatically organize the transaction around the operation execution. actor module:x2node-common.Actor &lt;nullable&gt; Actor executing the DBO. filterParams Object.&lt;string, *&gt; &lt;optional&gt; Filter parameters. The keys are parameter names, the values are parameter values. Note, that no value type conversion is performed: strings are used as SQL strings, numbers as SQL numbers, etc. Arrays are expanded into comma-separated lists of element values. Functions are called without arguments and the results are used as values. Otherwise, values can be strings, numbers, Booleans and nulls. Throws: If provided filter parameters object is invalid (missing parameter, NaN value or value of unsupported type). Type module:x2node-common.X2UsageError Returns: The fetch result promise. Type Promise.&lt;module:x2node-dbos~FetchDBO~Result&gt; Type Definitions Result Fetch DBO execution result object. In addition to the basic result properties will include a property for each requested super-aggregate. Type: Object Properties: Name Type Argument Description recordTypeName string Fetched record type name. records Array.&lt;Object&gt; Fetched records, or empty array if none matched. referredRecords Object.&lt;string, Object&gt; &lt;optional&gt; Fetched referred records by reference. × Search results Close "},"module-x2node-dbos-InsertDBO.html":{"id":"module-x2node-dbos-InsertDBO.html","title":"Class: InsertDBO","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: InsertDBO x2node-dbos~ InsertDBO Insert database operation implementation (SQL INSERT query). new InsertDBO(dbDriver, recordTypes, rcMonitor, recordTypeDesc, record) Note: The constructor is not accessible from the client code. Instances are created using DBOFactory. Parameters: Name Type Description dbDriver module:x2node-dbos.DBDriver The database driver. recordTypes module:x2node-records~RecordTypesLibrary Record types library. rcMonitor module:x2node-dbos.RecordCollectionsMonitor The record collections monitor. recordTypeDesc module:x2node-records~RecordTypeDescriptor The record type descriptor. record Object The record data. Extends module:x2node-dbos~AbstractDBO Methods _createExecuteStatementCommand(stmt [, stmtId]) Build a DBO command that simply executes the specified SQL statement. The command also calls context's affectedRows() method upon completion. Parameters: Name Type Argument Description stmt string The SQL statement (may contain param placeholders). stmtId * &lt;optional&gt; DBO-specific statement id, if any. Inherited From: module:x2node-dbos~AbstractDBO#_createExecuteStatementCommand Returns: The command. Type module:x2node-dbos.DBOCommand _createLoadAnchorTableCommand(idsQueryTree [, filter] [, order] [, range] [, lockType]) Build a DBO command that loads record ids into a temporary anchor table used for multi-branch fetches. The anchor table has the name of the main record type table prefixed with &quot;q_&quot; and has two columns: &quot;id&quot; and &quot;ord&quot;. Parameters: Name Type Argument Description idsQueryTree module:x2node-dbos~QueryTreeNode Query tree for the record ids. filter module:x2node-dbos~RecordsFilter &lt;optional&gt; &lt;nullable&gt; Optional filter for the ids SELECT query. order module:x2node-dbos~RecordsOrder &lt;optional&gt; &lt;nullable&gt; Optional order for the ids SELECT query. range module:x2node-dbos~RecordsRange &lt;optional&gt; &lt;nullable&gt; Optional range for the ids SELECT query. lockType string &lt;optional&gt; &lt;nullable&gt; Optional lock type: &quot;exclusive&quot; or &quot;shared&quot;. Inherited From: module:x2node-dbos~AbstractDBO#_createLoadAnchorTableCommand Returns: The command. Type module:x2node-dbos.DBOCommand _registerRecordTypeUpdate(recordTypeName) Register an update of a record of the specified record type. Parameters: Name Type Description recordTypeName string Updated record type name. Inherited From: module:x2node-dbos~AbstractDBO#_registerRecordTypeUpdate execute(txOrCon, actor) Execute the operation. Parameters: Name Type Argument Description txOrCon module:x2node-dbos~Transaction | * The active database transaction, or database connection object compatible with the database driver to have the method automatically organize the transaction around the operation execution. actor module:x2node-common.Actor &lt;nullable&gt; Actor executing the DBO. Returns: Promise, which resolves to the new record id or is rejected with the error object of an error happens during the operation execution. Type Promise.&lt;(string|number)&gt; × Search results Close "},"module-x2node-dbos-Transaction.html":{"id":"module-x2node-dbos-Transaction.html","title":"Class: Transaction","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: Transaction x2node-dbos~ Transaction Transaction. new Transaction(dbDriver, connection) Note: The constructor is not available to the client code. Transaction instances can be created by the DBO factory's newTransaction() method. Parameters: Name Type Description dbDriver module:x2node-dbos.DBDriver DB driver. connection * DB driver specific connection object. Members &lt;readonly&gt; connection :* Underlying DB driver specific connection object associated with the transaction. Type: * &lt;readonly&gt; dbDriver :module:x2node-dbos.DBDriver The database driver. Type: module:x2node-dbos.DBDriver Methods commit( [passThrough]) Commit the transaction. Parameters: Name Type Argument Description passThrough * &lt;optional&gt; Arbitrary value to have the promise to return on success. Throws: If the transaction has not been started or if it has already finished. Type module:x2node-common.X2UsageError Returns: Promise that is resolved with the passThrough value if the transaction committed successfully and is rejected with an error object in the case of failure. Type Promise isActive() Tell if the transaction is started (and not finished). Returns: true if active transaction. Type boolean rollback( [passThrough]) Rollback the transaction. Parameters: Name Type Argument Description passThrough * &lt;optional&gt; Arbitrary value to have the promise to return on both success and failure. Throws: If the transaction has not been started or if it has already finished. Type module:x2node-common.X2UsageError Returns: Promise that is resolved with the passThrough value if the transaction rolled back successfully and is rejected with with the same passThrough value in the case of failure. The rollback failure error is only logged. Type Promise start( [passThrough]) Start the transaction. Parameters: Name Type Argument Description passThrough * &lt;optional&gt; Arbitrary value to have the promise to return on success. Throws: If the transaction is already in progress or if it has already finished. Type module:x2node-common.X2UsageError Returns: Promise that is resolved with the passThrough value if the transaction started successfully and is rejected with an error object in the case of failure. Type Promise × Search results Close "},"module-x2node-dbos-UpdateDBO.html":{"id":"module-x2node-dbos-UpdateDBO.html","title":"Class: UpdateDBO","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: UpdateDBO x2node-dbos~ UpdateDBO Update database operation implementation (potentially a combination of SQL UPDATE, INSERT and DELETE queries). new UpdateDBO(dbDriver, recordTypes, rcMonitor, recordTypeDesc, patch [, filterSpec]) Note: The constructor is not accessible from the client code. Instances are created using DBOFactory. Parameters: Name Type Argument Description dbDriver module:x2node-dbos.DBDriver The database driver. recordTypes module:x2node-records~RecordTypesLibrary Record types library. rcMonitor module:x2node-dbos.RecordCollectionsMonitor The record collections monitor. recordTypeDesc module:x2node-records~RecordTypeDescriptor The record type descriptor. patch module:x2node-patches~RecordPatch The patch. filterSpec Array.&lt;Array&gt; &lt;optional&gt; Optional filter specification. Extends module:x2node-dbos~AbstractDBO Methods _createExecuteStatementCommand(stmt [, stmtId]) Build a DBO command that simply executes the specified SQL statement. The command also calls context's affectedRows() method upon completion. Parameters: Name Type Argument Description stmt string The SQL statement (may contain param placeholders). stmtId * &lt;optional&gt; DBO-specific statement id, if any. Inherited From: module:x2node-dbos~AbstractDBO#_createExecuteStatementCommand Returns: The command. Type module:x2node-dbos.DBOCommand _createLoadAnchorTableCommand(idsQueryTree [, filter] [, order] [, range] [, lockType]) Build a DBO command that loads record ids into a temporary anchor table used for multi-branch fetches. The anchor table has the name of the main record type table prefixed with &quot;q_&quot; and has two columns: &quot;id&quot; and &quot;ord&quot;. Parameters: Name Type Argument Description idsQueryTree module:x2node-dbos~QueryTreeNode Query tree for the record ids. filter module:x2node-dbos~RecordsFilter &lt;optional&gt; &lt;nullable&gt; Optional filter for the ids SELECT query. order module:x2node-dbos~RecordsOrder &lt;optional&gt; &lt;nullable&gt; Optional order for the ids SELECT query. range module:x2node-dbos~RecordsRange &lt;optional&gt; &lt;nullable&gt; Optional range for the ids SELECT query. lockType string &lt;optional&gt; &lt;nullable&gt; Optional lock type: &quot;exclusive&quot; or &quot;shared&quot;. Inherited From: module:x2node-dbos~AbstractDBO#_createLoadAnchorTableCommand Returns: The command. Type module:x2node-dbos.DBOCommand _registerRecordTypeUpdate(recordTypeName) Register an update of a record of the specified record type. Parameters: Name Type Description recordTypeName string Updated record type name. Inherited From: module:x2node-dbos~AbstractDBO#_registerRecordTypeUpdate execute(txOrCon, actor, recordValidator [, filterParams]) Execute the operation. Parameters: Name Type Argument Description txOrCon module:x2node-dbos~Transaction | * The active database transaction, or database connection object compatible with the database driver to have the method automatically organize the transaction around the operation execution. actor module:x2node-common.Actor &lt;nullable&gt; Actor executing the DBO. recordValidator module:x2node-dbos~UpdateDBO~recordValidator &lt;nullable&gt; Record validation/normalization function, or null if none. filterParams Object.&lt;string, *&gt; &lt;optional&gt; Filter parameters. The keys are parameter names, the values are parameter values. Note, that no value type conversion is performed: strings are used as SQL strings, numbers as SQL numbers, etc. Arrays are expanded into comma-separated lists of element values. Functions are called without arguments and the results are used as values. Otherwise, values can be strings, numbers, Booleans and nulls. Throws: If provided filter parameters object is invalid (missing parameter, NaN value or value of unsupported type). Type module:x2node-common.X2UsageError Returns: The operation result object promise. The promise is rejected with the error object if an error happens during the operation execution (failed &quot;test&quot; operation is not considered an error). Also may be rejected with the provided recordValidator function rejection result. Type Promise.&lt;module:x2node-dbos~UpdateDBO~Result&gt; Type Definitions recordValidator(record) Validates the record after applying the patch but before saving it to the database. Parameters: Name Type Description record Object The record after the patch has been applied. The record includes all properties that are fetched by default (by default, that includes all properties that are not views, not calculated and not dependent record references). Returns: If returns a promise, it can be either resolved to proceed with the record save or rejected, in which case the whole DBO execution is aborted and the promise returned by the DBO's execute() method is rejected with the record validator's rejection object. If returned value is not a promise (including nothing), the record save continues. Type * | Promise Result Update DBO execution result object. Properties: Name Type Argument Description records Array.&lt;Object&gt; All patched matched records with all properties that are fetched by default. updatedRecordIds Array.&lt;(string|number)&gt; Ids of records actually modified by the operation, empty array if none. testFailed boolean true if any of the matched records were not updated because a &quot;test&quot; patch operation failed. failedRecordIds Array &lt;optional&gt; If testFailed is true, this lists the ids of the failed records. × Search results Close "},"module-x2node-patches.html":{"id":"module-x2node-patches.html","title":"Module: x2node-patches","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Module: x2node-patches JSON Patch imlpementation module. Requires module:x2node-common module:x2node-records module:x2node-pointers Classes RecordPatch Methods &lt;static&gt; build(recordTypes, recordTypeName, patch) Build record patch object from JSON Patch specification. Parameters: Name Type Description recordTypes module:x2node-records~RecordTypesLibrary Record types library. recordTypeName string Name of the record type, against records of which the patch will be applied. patch Array.&lt;Object&gt; RFC 6902 JSON patch specification. Throws: If the provided record type name is invalid. Type module:x2node-common.X2UsageError If the provided patch specification is invalid. Type module:x2node-common.X2SyntaxError Returns: The patch object that can be used to apply the patch to records. Type module:x2node-patches~RecordPatch &lt;static&gt; buildMerge(recordTypes, recordTypeName, mergePatch) Build record patch object from Merge Patch specification. Parameters: Name Type Description recordTypes module:x2node-records~RecordTypesLibrary Record types library. recordTypeName string Name of the record type, against records of which the patch will be applied. mergePatch Object RFC 7396 merge patch specification. Throws: If the provided record type name is invalid. Type module:x2node-common.X2UsageError If the provided patch specification is invalid. Type module:x2node-common.X2SyntaxError Returns: The patch object that can be used to apply the patch to records. Type module:x2node-patches~RecordPatch × Search results Close "},"module-x2node-patches.RecordPatchHandlers.html":{"id":"module-x2node-patches.RecordPatchHandlers.html","title":"Interface: RecordPatchHandlers","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interface: RecordPatchHandlers x2node-patches. RecordPatchHandlers Interface for record patch handlers objects that can be invoked when patch operations are applied to a record. Each method is optional and even if present is called only if the patch detects that the operation changes the current record (except the &quot;test&quot; operation). Methods onInsert(op, ptr, newValue, oldValue) Called when a value is added to an array or map property as a result of an &quot;add&quot;, &quot;move&quot; or &quot;copy&quot; patch operation. Parameters: Name Type Description op string The operation, which can be &quot;add&quot;, &quot;move&quot; or &quot;copy&quot;. ptr module:x2node-pointers~RecordElementPointer Path pointer. newValue * The value inserted (may be null for a simple value array or map element, but never undefined). oldValue * Previous value at the location. onRemove(op, ptr, oldValue) Called when a value is removed from an array or map property as a result of a &quot;remove&quot; or &quot;move&quot; patch operation. Parameters: Name Type Description op string The operation, which can be &quot;remove&quot; or &quot;move&quot;. ptr module:x2node-pointers~RecordElementPointer Path pointer. oldValue * Previous value at the location. onSet(op, ptr, newValue, oldValue) Called when a value is set to a property as a result of an &quot;add&quot;, &quot;remove&quot;, &quot;replace&quot;, &quot;move&quot; or &quot;copy&quot; patch operation. Parameters: Name Type Description op string The operation, which can be &quot;add&quot;, &quot;remove&quot;, &quot;replace&quot;, &quot;move&quot; or &quot;copy&quot;. ptr module:x2node-pointers~RecordElementPointer Path pointer. newValue * The new value (may be null but never undefined). oldValue * Previous value at the location. onTest(ptr, value, passed) Called when a property value is tested as a result of a &quot;test&quot; patch operation. Parameters: Name Type Description ptr module:x2node-pointers~RecordElementPointer Path pointer. value * The value tested (may be null but never undefined). passed boolean true if the test operation passed. × Search results Close "},"module-x2node-patches-RecordPatch.html":{"id":"module-x2node-patches-RecordPatch.html","title":"Class: RecordPatch","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: RecordPatch x2node-patches~ RecordPatch Record patch, which is an implementation of RFC 6902 JSON Patch. new RecordPatch(patchOps, involvedPropPaths, updatedPropPaths) Note: The constructor is not accessible from the client code. The instances are creating using module's build() function. Parameters: Name Type Description patchOps Array.&lt;module:x2node-patches~RecordPatchOperation&gt; Record patch operations sequence. involvedPropPaths Set.&lt;string&gt; Involved property paths. updatedPropPaths Set.&lt;string&gt; Paths of properties directly updated by the patch. Members &lt;readonly&gt; involvedPropPaths :Set.&lt;string&gt; Paths (in dot notation) of all properties involved (read, erased and updated) in the patch. Type: Set.&lt;string&gt; &lt;readonly&gt; updatedPropPaths :Set.&lt;string&gt; Paths (in dot notation) of all properties directly updated by the patch. All are also included in the involvedPropPaths. Type: Set.&lt;string&gt; Methods apply(record [, handlers]) Apply patch to the specified record. Parameters: Name Type Argument Description record Object The record to patch. handlers module:x2node-patches.RecordPatchHandlers &lt;optional&gt; Handlers called when a patch operation is applied. Throws: If the patch could not be applied because the record is invalid (e.g. missing properties that are expected to be present by the patch logic). Type module:x2node-common.X2DataError Returns: true if the patch was applied, false if a &quot;test&quot; operation in the patch failed. Note, that in the case of a failed &quot;test&quot; operation the record may be partially modified as this method does not provide transactionality. Type boolean × Search results Close "},"module-x2node-pointers.html":{"id":"module-x2node-pointers.html","title":"Module: x2node-pointers","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Module: x2node-pointers JSON Pointer imlpementation module. Requires module:x2node-common module:x2node-records Classes RecordElementPointer Methods &lt;static&gt; parse(recordTypeDesc, propPointer [, noDash]) Parse the specified JSON pointer. Parameters: Name Type Argument Description recordTypeDesc module:x2node-records~RecordTypeDescriptor Record type descriptor. propPointer string Property pointer string in RFC 6901 format. noDash boolean &lt;optional&gt; true if a dash at the end of the pointer to an array element is not allowed. Throws: If the pointer is invalid. Type module:x2node-common.X2SyntaxError Returns: Parsed record element pointer. Type module:x2node-pointers~RecordElementPointer × Search results Close "},"module-x2node-pointers-RecordElementPointer.html":{"id":"module-x2node-pointers-RecordElementPointer.html","title":"Class: RecordElementPointer","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: RecordElementPointer x2node-pointers~ RecordElementPointer Record element pointer, which is an implementation of RFC 6901 JSON Pointer. new RecordElementPointer(parent, pointerToken, propDesc, propPath, collectionElement [, collectionElementIndex], childrenContainer) Note: The constructor is not accessible from the client code. Prointer instances are created using module's parse() function. Parameters: Name Type Argument Description parent module:x2node-pointers~RecordElementPointer &lt;nullable&gt; Parent pointer, or null for the root pointer. pointerToken string &lt;nullable&gt; Pointer token (no dash, no tilda escapes), or null if root pointer. propDesc module:x2node-records~PropertyDescriptor &lt;nullable&gt; Descriptor of the property, at which the pointer points, or null for the root pointer. propPath string Path to the property, at which the pointer points, or empty string for the root pointer. collectionElement boolean true if the pointer is for an array or map element. collectionElementIndex string | number &lt;optional&gt; If collection element pointer, this collection element index. childrenContainer module:x2node-records~PropertiesContainer &lt;nullable&gt; Child properties container, if applicable. Members &lt;readonly&gt; collectionElement :boolean true if the pointer is for an array or map element. Type: boolean &lt;readonly&gt; collectionElementIndex :number|string For a collection element pointer (collectionElement is true), the element index, which, for an array element, is a number or a dash (&quot;-&quot;) and for a map element—the map key string. Type: number | string &lt;readonly, nullable&gt; parent :module:x2node-pointers~RecordElementPointer Pointer for the parent record element, or null if root pointer. Type: module:x2node-pointers~RecordElementPointer &lt;readonly, nullable&gt; propDesc :module:x2node-records~PropertyDescriptor Descriptor of the property, at which the pointer points, or null if root pointer. Type: module:x2node-records~PropertyDescriptor &lt;readonly&gt; propPath :string Path of the property, at which the pointer points, or empty string if root pointer. Type: string Methods addValue(record, value) Add value to the property, at which the pointer points. If the pointer points at an array element, the value is inserted into the array at the specified by the pointer location. In all other cases, any existing value is simply replaced. Note, that the method is not allowed on the root pointer. Parameters: Name Type Description record Object The record. value * The value to add. May not be undefined (use removeValue() method to delete optional property values). A null is not allowed for nested object array and map elements. The method does not validate the value in any other way beyond that. Throws: If called on a root pointer, or inappropriate value is provided. Type module:x2node-common.X2UsageError If the property cannot be reached. Type module:x2node-common.X2DataError Returns: The previous value as if getValue() was called for the pointer before modifying the record. Type * createChildPointer(pointerToken) Create immediate child pointer of this pointer. This is faster than parsing the pointer from string notation as it does not have to re-parse the prefix. Parameters: Name Type Description pointerToken string Token to append to the pointer to form the child pointer (without the leading slash). Throws: If resulting pointer would be invalid. Type module:x2node-common.X2UsageError Returns: Child pointer. Type module:x2node-pointers~RecordElementPointer getValue(record [, traceFunc]) Get value of the property, at which the pointer points. Parameters: Name Type Argument Description record Object The record, from which to get the value. Must match the pointer's record type. traceFunc module:x2node-pointers~RecordElementPointer~traceCallback &lt;optional&gt; Optional trace callback called for every prefix pointer starting from the root pointer and ending with this pointer. Throws: If the property cannot be reached. Type module:x2node-common.X2DataError Returns: The property value, or null if no value. For absent array and map elements returns undefined. Type * isChildOf(otherPtr) Tell if this pointer points to a child of the specified other pointer (that is the other pointer is a &quot;proper prefix&quot; of this pointer). Parameters: Name Type Description otherPtr module:x2node-pointers~RecordElementPointer The other pointer. Returns: true if child. Type boolean isRoot() Tell if the pointer is the root pointer. Equivalent for checking if parent is null. Returns: true If root pointer. Type boolean removeValue(record) Erase the property, at which the pointer points. If the pointer points at an array element, the element is deleted from the array. Note, that the method is not allowed on the root pointer. Also, not allowed for a dash array element pointer. Parameters: Name Type Description record Object The record. Throws: If called on a root pointer, or a dash array index pointer. Type module:x2node-common.X2UsageError If the property cannot be reached. Type module:x2node-common.X2DataError Returns: The previous value as if getValue() was called for the pointer before modifying the record. Type * replaceValue(record, value) Replace value of the property, at which the pointer points. Note, that the method is not allowed on the root pointer. Also, not allowed for a dash array element pointer. Parameters: Name Type Description record Object The record. value * The value to set. May not be undefined (use removeValue() method to delete optional property values). A null is not allowed for nested object array and map elements. The method does not validate the value in any other way beyond that. Throws: If called on a root pointer, a dash array index pointer, or inappropriate value is provided. Type module:x2node-common.X2UsageError If the property cannot be reached. Type module:x2node-common.X2DataError Returns: The previous value as if getValue() was called for the pointer before modifying the record. Type * toString() Get string representation of the pointer in the RFC 6901 format. Returns: The pointer string (empty string for the root pointer). Type string Type Definitions traceCallback(prefixPtr, value, prefixDepth) Callback for the trace method. Parameters: Name Type Description prefixPtr module:x2node-pointers~RecordElementPointer The pointer representing the current pointer prefix. During a trace call, the callback is first called with the root pointer as the prefixPtr and last called with the actual pointer being traced (the leaf pointer). value * The value at the current prefixPtr in the record. prefixDepth number Current prefix depth. For the leaf pointer it is zero, one for the immediate parent pointer, and so on. × Search results Close "},"module-x2node-records.html":{"id":"module-x2node-records.html","title":"Module: x2node-records","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Module: x2node-records Record types library module. Requires module:x2node-common Classes LibraryConstructionContext PropertiesContainer PropertyDescriptor RecordTypeDescriptor RecordTypesLibrary RecordTypesLibraryFactory Methods &lt;static&gt; buildLibrary(libraryDef) Build record types library using the provided definitions. This is a shortcut function that allows creating record types libraries that do not use any extensions. Parameters: Name Type Description libraryDef Object Library definition object. Throws: If any record type definitions are found invalid. Type module:x2node-common.X2UsageError Returns: Record types library. Type module:x2node-records~RecordTypesLibrary &lt;static&gt; with( [extensions]) Create record types library builder with the specified extensions. Parameters: Name Type Argument Description extensions module:x2node-records.Extension &lt;optional&gt; &lt;repeatable&gt; Extensions. Returns: Record types library builder. Type module:x2node-records~RecordTypesLibraryFactory × Search results Close "},"module-x2node-records.Extension.html":{"id":"module-x2node-records.Extension.html","title":"Interface: Extension","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interface: Extension x2node-records. Extension Interface for record type library extensions. All interface methods and properties are optional. Members &lt;readonly&gt; requiredExtensions :Array.&lt;module:x2node-records.Extension&gt; List of extensions that need to be added to the library before this one. The library makes sure that no extension is added more than once. Type: Array.&lt;module:x2node-records.Extension&gt; Methods extendPropertiesContainer(ctx, container) Extend record type descriptor. The function is called on the extension right after the record type descriptor instance is created and passed through the previously added extensions. This happens before the properties are added to the descriptor. To perform work on the descriptor after the properties are added, the extension can use onContainerComplete() method on the context. Parameters: Name Type Description ctx module:x2node-records~LibraryConstructionContext Library construction context. container module:x2node-records~PropertiesContainer Properties container. Returns: Extended properties container. Type module:x2node-records~PropertiesContainer extendPropertyDescriptor(ctx, propDesc) Extend property descriptor. The function receives the property descriptor after it is passed through the previously added extensions. Parameters: Name Type Description ctx module:x2node-records~LibraryConstructionContext Library construction context. propDesc module:x2node-records~PropertyDescriptor Property descriptor. Returns: Extended property descriptor. Type module:x2node-records~PropertyDescriptor extendRecordTypesLibrary(ctx, recordTypes) Extend record types library. The function is called on the extension right after the record types library instance is created and passed through the previously added extensions. This happens before the record types are added to the library. To perform work on the library after the record types are added, the extension can use onLibraryComplete() method on the context. Parameters: Name Type Description ctx module:x2node-records~LibraryConstructionContext Library construction context. recordTypes module:x2node-records~RecordTypesLibrary Record types library instance. Returns: Extended record types library instance. Type module:x2node-records~RecordTypesLibrary × Search results Close "},"module-x2node-records-LibraryConstructionContext.html":{"id":"module-x2node-records-LibraryConstructionContext.html","title":"Class: LibraryConstructionContext","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: LibraryConstructionContext x2node-records~ LibraryConstructionContext Context used during the building of a record types library by the factory. The context is used by the library extensions to perform work on completion of various descriptors. new LibraryConstructionContext() Note: The constructor is not accessible from the client code. Instances of the context are provided to the extensions by the factory. Parameters: Name Type Description Extensions. Iterable.&lt;module:x2node-records.Extension&gt; Methods addHiddenProperty() Add hidden property to the current context properties container. The property descriptor will be available via the container's getPropertyDesc() method but will be not listed in the container's allPropertyNames list. This method can only be called from a handler added to the context via the onContainerComplete() method. addRecordType(recordTypeName, recordTypeDef) Add record type to the record types library. This method can only be called from a handler added to the context via the onLibraryComplete() method. Parameters: Name Type Description recordTypeName string | Symbol Record type name. recordTypeDef Object Record type definition. Throws: If record type with the same name already exists of if called from a wrong place in the extension. Type module:x2node-common.X2UsageError createPropertiesContainer(containerPropDesc, containerDef) Create nested properties container. Parameters: Name Type Description containerPropDesc module:x2node-records~PropertyDescriptor Descriptor of the container property in the parent container. containerDef Object Container definition. Returns: The new container. Type module:x2node-records~PropertiesContainer onContainerComplete(handler) Perform work upon properties container (either nested object or record type descriptor) completion. The handlers are called right after all properties are added to the container. If called from the extension's extendPropertyDescriptor() or extendPropertiesContainer() function, the handler is called only when the currently being built container is complete. If called from the extension's extendRecordTypesLibrary() function, an error is thrown. Parameters: Name Type Description handler function The handler function that receives the properties container as its only argument. onLibraryComplete(handler) Perform work upon record types library completion. The handlers are called right after all record types are added to the library but before the registered library validators are called. Parameters: Name Type Description handler function The handler function that receives the record type library as its only argument. onLibraryValidation(validator) Register validator invoked after the library completion. Parameters: Name Type Description validator function The validator function that receives the complete record types library as its only argument. × Search results Close "},"module-x2node-records-PropertiesContainer.html":{"id":"module-x2node-records-PropertiesContainer.html","title":"Class: PropertiesContainer","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: PropertiesContainer x2node-records~ PropertiesContainer Descriptor of an entity that has properties, such as record type or a nested object property. new PropertiesContainer(recordTypeName, nestedPath, containerDef, parentContainer) Note: The constructor is not accessible from the client code. Container instances are created internally and are made available via other descriptor objects. Parameters: Name Type Argument Description recordTypeName string | Symbol Name of the record type, to which the container belongs (name of the record type if the container is itself the record type). nestedPath string Dot-separated path to the property represented by the container ending with a dot, or empty string if the container is the record type descriptor. containerDef Object Container definition. parentContainer module:x2node-records~PropertiesContainer &lt;nullable&gt; Parent container, or null if record type. Members &lt;readonly&gt; allPropertyNames :Array.&lt;string&gt; Names of all properties in the container. Type: Array.&lt;string&gt; &lt;readonly&gt; definition :Object Container definition (nested object or record type). Type: Object &lt;readonly&gt; idPropertyName :string Name of the id property in the container, or undefined if no id property. Type: string &lt;readonly&gt; nestedPath :string Dot-separated path to the property represented by the container within the record type ending with a dot, or empty string if the container is a record type. Path to a property of a polymoprhic nested object includes the subtype name as a path element. Type: string &lt;readonly, nullable&gt; parentContainer :module:x2node-records~PropertiesContainer Parent container for a nested object property or null for a record type. Type: module:x2node-records~PropertiesContainer &lt;readonly&gt; recordTypeName :string|Symbol Name of the record type, to which the container belongs (name of the record type itself if the container is a record type). Type: string | Symbol &lt;readonly&gt; subtypes :Array.&lt;string&gt; For a polymorphic object container, the list of all subtype names. For a polymoprhic reference container, the list of names of all allowed referred record types. Type: Array.&lt;string&gt; &lt;readonly&gt; typePropertyName :string For a polymoprhic object container, name of the property used in the record instances described by the container to indicate the record instance subtype. Note, that the property does not have a descriptor in the container and is not listed in the allPropertyNames. Type: string Methods getPropertyDesc(propName) Get specified property descriptor. Parameters: Name Type Description propName string Property name. Throws: If no such property in the container. Type module:x2node-common.X2UsageError Returns: The property descriptor. Type module:x2node-records~PropertyDescriptor hasProperty(propName) Tell if the container contains the specified property. Parameters: Name Type Description propName string Property name. Returns: true if there is such property. Type boolean isPolymorph() Tell if polymorphic object or reference container. Returns: true if polymorphic container. Type boolean isPolymorphObject() Tell if polymorphic object container. A polymorphic object container will have subtypes and typePropertyName descriptor properties. Plus some of the property descriptors in the container will have their isSubtype() method return true. Returns: true if polymorphic object container. Type boolean isPolymorphRef() Tell if polymorphic reference container. A polymorphic reference container will have subtypes descriptor property. Plus all of the property descriptors in the container will have their isSubtype() method return true. Returns: true if polymorphic reference container. Type boolean isRecordType() Tell if this container is a record type descriptor. Returns: true if record type descriptor. Type boolean newRecord() Create new, empty record instance for this container. Returns: New record instance. Type Object × Search results Close "},"module-x2node-records-PropertyDescriptor.html":{"id":"module-x2node-records-PropertyDescriptor.html","title":"Class: PropertyDescriptor","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: PropertyDescriptor x2node-records~ PropertyDescriptor Record property descriptor. new PropertyDescriptor(ctx, container, propName, propDef [, viewOfDesc]) Note: The constructor is not accessible from the client code. Property descriptors are created internally and are available via the property container's getPropertyDesc() method. Parameters: Name Type Argument Description ctx module:x2node-records~LibraryConstructionContext Library construction context. container module:x2node-records~PropertiesContainer The container, to which the property belongs. propName string Property name. propDef Object Property definition. viewOfDesc module:x2node-records~PropertyDescriptor &lt;optional&gt; For a view property, descriptor of the base property. Members &lt;readonly&gt; allowDuplicates :boolean For a non-object array property, tells if duplicates values are allowed. Type: boolean &lt;readonly&gt; container :module:x2node-records~PropertiesContainer Container, to which the property belongs. Type: module:x2node-records~PropertiesContainer &lt;readonly&gt; containerChain :Array.&lt;module:x2node-records~PropertiesContainer&gt; Container chain. The first element in the chain is the record type descriptor, the last element is the property container (same one as in container descriptor property). Type: Array.&lt;module:x2node-records~PropertiesContainer&gt; &lt;readonly&gt; definition :Object Property definition. Type: Object &lt;readonly&gt; modifiable :boolean true if the property is modifiable. Note, that being not modifiable does not necessarily mean immutable. It merely means that setting a new value directly to the property is disallowed. Type: boolean &lt;readonly&gt; name :string Property name. Type: string &lt;readonly, nullable&gt; nestedProperties :module:x2node-records~PropertiesContainer For a nested object property (scalarValueType is &quot;object&quot;), the descriptors of the nested properties. For a reference property (scalarValueType is &quot;ref&quot;), the target record type descriptor. For a non-object, non-reference property, if it is not scalar the container describes a single property named &quot;$value&quot; with the scalar value type. If it is scalar, the nestedProperties value is null. For a polymorphic nested object or reference property, this is the polymoprhic container. Type: module:x2node-records~PropertiesContainer &lt;readonly&gt; optional :boolean true if the property is optional. Type: boolean &lt;readonly&gt; refTarget :string Name of the target record type for a non-polymorphic reference property (isRef() returns true). Type: string &lt;readonly&gt; refTargets :Array.&lt;string&gt; For a polymoprhic reference property, a shortcut property that contains a list of names of all allowed referred record types. This is a shortcut for nestedProperties.subtypes. Type: Array.&lt;string&gt; &lt;readonly&gt; scalarValueType :string Scalar value type of the property. One of &quot;string&quot;, &quot;number&quot;, &quot;boolean&quot;, &quot;datetime&quot;, &quot;object&quot; or &quot;ref&quot;. Type: string &lt;readonly&gt; viewOfDesc :module:x2node-records~PropertyDescriptor For a view property, descriptor of the base property. Type: module:x2node-records~PropertyDescriptor Methods isArray() Tell if the property is an array. Returns: true if the property is an array. Type boolean isId() Tell if the property is a record (including nested object) id. Returns: true if the property is an id. Type boolean isMap() Tell if the property is a map. Returns: true if the property is a map. Type boolean isPolymorphObject() A shortcut method that tells if the property is a polymoprhic nested object property. Such property will have scalarValueType of &quot;object&quot; and its nestedProperties.isPolymorphObject() will return true. Returns: true if polymorphic nested object property. Type boolean isPolymorphObjectType() Tell if the property is a special hidden property describing the polymorphic object type. Any container whose isPolymorphObject() method returns true will have one such property. Note, that the property is hidden, so it is not listed in the container's allPropertyNames list, but it is available via the hasProperty() and getPropertyDesc() methods. Returns: true if type property. Type boolean isPolymorphRef() A shortcut method that tells if the property is a polymoprhic reference property. Such property will have scalarValueType of &quot;object&quot; and its nestedProperties.isPolymorphRef() will return true. Returns: true if polymorphic reference property. Type boolean isRef() Tell if the property is a non-polymorphic reference (scalarValueType is &quot;ref&quot;). Note, that this does not include polymorphic reference properties whose scalarValueType is &quot;object&quot;. Returns: true if the property is a non-polymorphic reference. Type boolean isScalar() Tell if the property is scalar. Returns: true if the property is scalar. Type boolean isSubtype() Tell if the property is a pseudo-property representing its polymorphic container's subtype-specific properties. Every polymoprhic container (container descriptor's isPolymorph() method returns true) has one such pseudo-property for each subtype. For a polymorphic object container, the property name is the subtype name, the type is an optional scalar &quot;object&quot;, and the nested properties are the subtype-specific properties. For a polymoprhic reference container, the property name is one of the referred record type names and the type is &quot;ref&quot;. Returns: true if a subtype pseudo-property. Type boolean isView() Tell if the property is a view of another property. Returns: true if the property is a view. Type boolean × Search results Close "},"module-x2node-records-RecordTypeDescriptor.html":{"id":"module-x2node-records-RecordTypeDescriptor.html","title":"Class: RecordTypeDescriptor","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: RecordTypeDescriptor x2node-records~ RecordTypeDescriptor Record type descriptor. new RecordTypeDescriptor(recordTypeName, recordTypeDef) Note: The constructor is not accessible from the client code. Record type descriptors are created internally and are available via the record type library's getRecordTypeDesc() method. Parameters: Name Type Description recordTypeName string | Symbol Record type name. recordTypeDef Object Record type definition. Extends module:x2node-records~PropertiesContainer Members &lt;readonly&gt; allPropertyNames :Array.&lt;string&gt; Names of all properties in the container. Type: Array.&lt;string&gt; Inherited From: module:x2node-records~PropertiesContainer#allPropertyNames &lt;readonly&gt; definition :Object Container definition (nested object or record type). Type: Object Inherited From: module:x2node-records~PropertiesContainer#definition &lt;readonly&gt; idPropertyName :string Name of the id property in the container, or undefined if no id property. Type: string Inherited From: module:x2node-records~PropertiesContainer#idPropertyName &lt;readonly&gt; name :string|Symbol Record type name (same as recordTypeName property inherited from the properties container). Type: string | Symbol &lt;readonly&gt; nestedPath :string Dot-separated path to the property represented by the container within the record type ending with a dot, or empty string if the container is a record type. Path to a property of a polymoprhic nested object includes the subtype name as a path element. Type: string Inherited From: module:x2node-records~PropertiesContainer#nestedPath &lt;readonly, nullable&gt; parentContainer :module:x2node-records~PropertiesContainer Parent container for a nested object property or null for a record type. Type: module:x2node-records~PropertiesContainer Inherited From: module:x2node-records~PropertiesContainer#parentContainer &lt;readonly&gt; recordTypeName :string|Symbol Name of the record type, to which the container belongs (name of the record type itself if the container is a record type). Type: string | Symbol Inherited From: module:x2node-records~PropertiesContainer#recordTypeName &lt;readonly&gt; subtypes :Array.&lt;string&gt; For a polymorphic object container, the list of all subtype names. For a polymoprhic reference container, the list of names of all allowed referred record types. Type: Array.&lt;string&gt; Inherited From: module:x2node-records~PropertiesContainer#subtypes &lt;readonly&gt; typePropertyName :string For a polymoprhic object container, name of the property used in the record instances described by the container to indicate the record instance subtype. Note, that the property does not have a descriptor in the container and is not listed in the allPropertyNames. Type: string Inherited From: module:x2node-records~PropertiesContainer#typePropertyName Methods getPropertyDesc(propName) Get specified property descriptor. Parameters: Name Type Description propName string Property name. Inherited From: module:x2node-records~PropertiesContainer#getPropertyDesc Throws: If no such property in the container. Type module:x2node-common.X2UsageError Returns: The property descriptor. Type module:x2node-records~PropertyDescriptor hasProperty(propName) Tell if the container contains the specified property. Parameters: Name Type Description propName string Property name. Inherited From: module:x2node-records~PropertiesContainer#hasProperty Returns: true if there is such property. Type boolean isPolymorph() Tell if polymorphic object or reference container. Inherited From: module:x2node-records~PropertiesContainer#isPolymorph Returns: true if polymorphic container. Type boolean isPolymorphObject() Tell if polymorphic object container. A polymorphic object container will have subtypes and typePropertyName descriptor properties. Plus some of the property descriptors in the container will have their isSubtype() method return true. Inherited From: module:x2node-records~PropertiesContainer#isPolymorphObject Returns: true if polymorphic object container. Type boolean isPolymorphRef() Tell if polymorphic reference container. A polymorphic reference container will have subtypes descriptor property. Plus all of the property descriptors in the container will have their isSubtype() method return true. Inherited From: module:x2node-records~PropertiesContainer#isPolymorphRef Returns: true if polymorphic reference container. Type boolean isRecordType() Tell if this container is a record type descriptor. Inherited From: module:x2node-records~PropertiesContainer#isRecordType Returns: true if record type descriptor. Type boolean newRecord() Create new, empty record instance for this container. Inherited From: module:x2node-records~PropertiesContainer#newRecord Returns: New record instance. Type Object refToId(ref) Convert reference to a record of this record type to the record id. Parameters: Name Type Description ref string Record reference. Throws: If reference has invalid syntax. Type module:x2node-common.X2SyntaxError Returns: Record id. Type string | number × Search results Close "},"module-x2node-records-RecordTypesLibrary.html":{"id":"module-x2node-records-RecordTypesLibrary.html","title":"Class: RecordTypesLibrary","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: RecordTypesLibrary x2node-records~ RecordTypesLibrary Record types library. new RecordTypesLibrary(libraryDef) Note: The constructor is not accessible from the client code. Instances are created by using factory's buildLibrary() method. Parameters: Name Type Description libraryDef Object Library definition. Members &lt;readonly&gt; definition :Object The original library definition provided to the factory. Type: Object Methods getRecordTypeDesc(recordTypeName) Get descriptor for the specified record type. Parameters: Name Type Description recordTypeName string | Symbol Record type name. Throws: If no such record type in the library. Type module:x2node-common.X2UsageError Returns: Record type descriptor. Type module:x2node-records~RecordTypeDescriptor hasRecordType(recordTypeName) Tell if the library has the specified record type. Parameters: Name Type Description recordTypeName string | Symbol Record type name. Returns: true if there is such type. Type boolean refToId(recordTypeName, ref) Convert reference to a record of the specified record type to the record id. Parameters: Name Type Description recordTypeName string Record type name. ref string Record reference. Throws: If no such record type in the library. Type module:x2node-common.X2UsageError Returns: Record id. Type string | number × Search results Close "},"module-x2node-records-RecordTypesLibraryFactory.html":{"id":"module-x2node-records-RecordTypesLibraryFactory.html","title":"Class: RecordTypesLibraryFactory","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: RecordTypesLibraryFactory x2node-records~ RecordTypesLibraryFactory Record types library factory. new RecordTypesLibraryFactory() Note: The constructor is not accessible from the client code. Instances of the factory are created by module's createLibraryFactory() function. Methods addExtension(extension) Add record types library extension to the factory. Parameters: Name Type Description extension module:x2node-records.Extension The extension. Returns: This factory. Type module:x2node-records~RecordTypesLibraryFactory buildLibrary(libraryDef) Build record types library using the provided definitions. Parameters: Name Type Description libraryDef Object Library definition object including record type definitions. Throws: If any record type definitions are found invalid. Type module:x2node-common.X2UsageError Returns: Record types library. Type module:x2node-records~RecordTypesLibrary × Search results Close "},"module-x2node-rsparser.html":{"id":"module-x2node-rsparser.html","title":"Module: x2node-rsparser","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Module: x2node-rsparser Database query result set parser module. Implements: module:x2node-records.Extension Requires module:x2node-common module:x2node-records Classes ResultSetParser Mixins PropertyDescriptorWithRSParser Methods &lt;static&gt; extractValue(type, rawVal [, rowNum] [, colInd]) Call registered value extractor to convert raw database value into the record property value. Parameters: Name Type Argument Default Description type string Value type. rawVal * Raw value from the database. rowNum number &lt;optional&gt; 0 Optional result set row number. colInd number &lt;optional&gt; 0 Optional result set column index. Returns: Corresponding value for the record property. Type * &lt;static&gt; getResultSetParser(recordTypes, topRecordTypeName) Get new result set parser. Before it can be used, the parser instance must be initialized with the markup using init() method. Parameters: Name Type Description recordTypes module:x2node-records~RecordTypesLibrary Record types library. topRecordTypeName string Name of the record type, records of which are being extracted from the result set. Returns: New uninitialized result set parser. Type module:x2node-rsparser~ResultSetParser &lt;static&gt; isSupported(obj) Tell if the provided object is supported by the module. Currently, only a record types library instance can be tested using this function and it tells if the library was constructed with the x2node-rsparser extension. Parameters: Name Type Description obj * Object to test. Returns: true if supported by the rsparser module. Type boolean &lt;static&gt; registerValueExtractor(type, extractorFunc) Register a custom result set column value extractor. Parameters: Name Type Description type string Value type. extractorFunc module:x2node-rsparser~valueExtractor Extractor function. Type Definitions valueExtractor(rawVal, rowNum, colInd) Result set column value extractor function. Parameters: Name Type Description rawVal * Raw value returned by the underlying database driver. rowNum number Current result set row number, starting from zero. colInd number Column inder, starting from zero. Returns: Value to be set in the resulting record object. Type * × Search results Close "},"module-x2node-rsparser.PropertyDescriptorWithRSParser.html":{"id":"module-x2node-rsparser.PropertyDescriptorWithRSParser.html","title":"Mixin: PropertyDescriptorWithRSParser","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Mixin: PropertyDescriptorWithRSParser x2node-rsparser. PropertyDescriptorWithRSParser x2node-rsparser module specific PropertyDescriptor extension. × Search results Close "},"module-x2node-rsparser-ResultSetParser.html":{"id":"module-x2node-rsparser-ResultSetParser.html","title":"Class: ResultSetParser","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: ResultSetParser x2node-rsparser~ ResultSetParser Result set parser. new ResultSetParser(recordTypes, valueExtractors, topRecordTypeName) Note: The constructor is not accessible from the client code. Instances are created using module's getResultSetParser() function. Parameters: Name Type Description recordTypes module:x2node-records~RecordTypesLibrary Record types library. valueExtractors Object.&lt;string, function()&gt; Value extractors. topRecordTypeName string Name of the record type being parsed. Members &lt;readonly&gt; records :Array.&lt;Object&gt; Array of records extracted from the result set rows. The property is usually read by the client after all result set rows have been fed to the parser. Type: Array.&lt;Object&gt; &lt;readonly&gt; recordTypes :module:x2node-records~RecordTypesLibrary Record types library. Type: module:x2node-records~RecordTypesLibrary &lt;readonly&gt; referredRecords :Object.&lt;string, Object&gt; Records corresponding to references in fetched reference properties. The property is usually read by the client after all result set rows have been fed to the parser. Type: Object.&lt;string, Object&gt; Methods feedRow(row) Feed a result set row to the parser. Note, the parser must be initialized with markup before rows can be fed to it. Parameters: Name Type Description row Array.&lt;*&gt; | Object.&lt;string, *&gt; The result set row, which can be an array of raw values for each result set column, or an object with column markup as the keys and corresponding raw values as the values. Throws: If the row data does not match the markup. Type module:x2node-common.X2DataError init(markup) Initialize parser with columns markup. A parser instance can be initialized only once. A parser must be initialized before result set rows can be fed to it. Parameters: Name Type Description markup Array.&lt;string&gt; Markup for each column in the result set. Throws: If the parser has already been initialized or the specified markup argument is of invalid type. Type module:x2node-common.X2UsageError If provided markup syntax is invalid. Type module:x2node-common.X2SyntaxError merge(parser) Merge records collected by another parser into this one. The specified other parser must contain the same number of records in the same order. Each record is then merged one by one into the records in this parser. Parameters: Name Type Description parser module:x2node-rsparser~ResultSetParser The other parser. Throws: If the specified parser is incompatible with this one. Type module:x2node-common.X2UsageError Returns: This parser. Type module:x2node-rsparser~ResultSetParser reset() Reset the parser so that it can be re-used to parse another result set. The method creates new empty records and referredRecords properties and leaves the markup in place, so there is no need to initialize the parser again and the new result set rows can start to be fed to the parser right away. × Search results Close "},"module-x2node-validators.html":{"id":"module-x2node-validators.html","title":"Module: x2node-validators","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Module: x2node-validators Record validation/normalization module. Implements: module:x2node-records.Extension Requires module:x2node-common module:x2node-records module:x2node-pointers Classes ValidationContext ValidationErrors Mixins PropertyDescriptorWithValidators RecordTypeDescriptorWithValidators Methods &lt;static&gt; addDefaultValidators(desc, validators) Can be used by record types library extensions to add validators to the default set of validators on a record type or property descriptor. Note that the validators module installs validators on properties and record types in an onContainerComplete handler, so extensions must call this function before that. Parameters: Name Type Description desc module:x2node-records~RecordTypeDescriptor | module:x2node-records~PropertyDescriptor The descriptor. May not be a view. validators Object.&lt;string, Array.&lt;(string|Array)&gt;&gt; Validator specifications as would be provided on the definition. &lt;static&gt; createValidationErrors() Create new, empty validation errors object. Returns: Validation errors object. Type module:x2node-validators~ValidationErrors &lt;static&gt; isSupported(obj) Tell if the provided object is supported by the module. Currently, only a record types library instance can be tested using this function and it tells if the library was constructed with the x2node-validators extension. Parameters: Name Type Description obj * Object to test. Returns: true if supported by the validators module. Type boolean &lt;static&gt; isValidationErrors(obj) Tell if the provided object is a validation errors object. Parameters: Name Type Description obj * The object to test. Returns: true if instance of ValidationErrors. Type boolean &lt;static&gt; normalizeRecord(recordType, recordTypeName, record [, lang] [, validationSets]) Validate and normalize the specified record. Parameters: Name Type Argument Description recordType module:x2node-records~RecordTypesLibrary Record types library. recordTypeName string Record type name. record Object The record to validate. May not be null or undefined. lang string &lt;optional&gt; Language for the error messages in the same format as used by the HTTP's &quot;Accept-Language&quot; request header. If not provided, &quot;*&quot; is assumed. validationSets string &lt;optional&gt; Comma-separated validation set names. If not provided, the default validation set is used. Throws: If unknown record type, record was not provided or invalid language or validation set specification. Type module:x2node-common.X2UsageError Returns: Errors if the record is invalid, or null if it has been successfully validated and normalized. Type module:x2node-validators~ValidationErrors &lt;static&gt; registerValidationErrorMessage(ctx, messageId, messageDef) Can be used by record types library extensions to register additional validation error messages available to the library. Depending on where the function is called the registred message scope is determined. For example, if called in the extention's extendRecordTypesLibrary() method, the message is registred for the whole library. Parameters: Name Type Description ctx module:x2node-records~LibraryConstructionContext Library construction context. messageId string Message identifier. messageDef Object.&lt;string, string&gt; Message definition. The keys are language codes, the values are message templates. &lt;static&gt; registerValidator(ctx, validatorId, Validator) Can be used by record types library extensions to register additional validators available to the library. Depending on where the function is called the registred validator scope is determined. For example, if called in the extention's extendRecordTypesLibrary() method, the validator is registred for the whole library. Parameters: Name Type Description ctx module:x2node-records~LibraryConstructionContext Library construction context. validatorId string Validator id. Validator module:x2node-validators.validator function. &lt;static&gt; replaceDefaultValidators(desc, validators) Can be used by record types library extensions to replace the default set of validators on a record type or property descriptor. Note that the validators module installs validators on properties and record types in an onContainerComplete handler, so extensions must call this function before that. Parameters: Name Type Description desc module:x2node-records~RecordTypeDescriptor | module:x2node-records~PropertyDescriptor The descriptor. May not be a view. validators Object.&lt;string, Array.&lt;(string|Array)&gt;&gt; Validator specifications as would be provided on the definition. Type Definitions validator(params, ctx, value) Validator/normalizer function. Parameters: Name Type Description params Array Validator parameters from the subject definition. ctx module:x2node-validators~ValidationContext Current validation context. value * The value to validate/normalize. Returns: Normalized value, which, if different from the current value, is set back into the record object. Type * × Search results Close "},"module-x2node-validators.PropertyDescriptorWithValidators.html":{"id":"module-x2node-validators.PropertyDescriptorWithValidators.html","title":"Mixin: PropertyDescriptorWithValidators","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Mixin: PropertyDescriptorWithValidators x2node-validators. PropertyDescriptorWithValidators Validators module specific PropertyDescriptor extension. Members &lt;readonly&gt; title :string|Object.&lt;string, string&gt; Property title. Type: string | Object.&lt;string, string&gt; &lt;readonly&gt; validationErrorMessages :Object.&lt;string, (string|Object.&lt;string, string&gt;)&gt; Context validation error messages for the property (and nested properties if the property is a nested object). The keys are message ids, the values are either message template strings, or objects with language codes as keys and localized message templates strings as values. Type: Object.&lt;string, (string|Object.&lt;string, string&gt;)&gt; &lt;readonly, nullable&gt; validators :Object.&lt;string, Array.&lt;module:x2node-validators.curriedValidator&gt;&gt; Property validators/normalizers or null if no validators. The keys are validation sets, including &quot;*&quot; for the validators that always run, and the values are the functions. Type: Object.&lt;string, Array.&lt;module:x2node-validators.curriedValidator&gt;&gt; × Search results Close "},"module-x2node-validators.RecordTypeDescriptorWithValidators.html":{"id":"module-x2node-validators.RecordTypeDescriptorWithValidators.html","title":"Mixin: RecordTypeDescriptorWithValidators","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Mixin: RecordTypeDescriptorWithValidators x2node-validators. RecordTypeDescriptorWithValidators Validators module specific RecordTypeDescriptor extension. Members &lt;readonly&gt; title :string|Object.&lt;string, string&gt; Record type title. Type: string | Object.&lt;string, string&gt; &lt;readonly&gt; validationErrorMessages :Object.&lt;string, (string|Object.&lt;string, string&gt;)&gt; Context validation error messages for the record type and its properties. The keys are message ids, the values are either message template strings, or objects with language codes as keys and localized message templates strings as values. Type: Object.&lt;string, (string|Object.&lt;string, string&gt;)&gt; &lt;readonly, nullable&gt; validators :Object.&lt;string, Array.&lt;module:x2node-validators.curriedValidator&gt;&gt; Record validators/normalizers or null if no validators. The keys are validation sets, including &quot;*&quot; for the validators that always run, and the values are the functions. Type: Object.&lt;string, Array.&lt;module:x2node-validators.curriedValidator&gt;&gt; × Search results Close "},"module-x2node-validators-ValidationContext.html":{"id":"module-x2node-validators-ValidationContext.html","title":"Class: ValidationContext","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: ValidationContext x2node-validators~ ValidationContext Validation context used by the validator functions to access the validation environment and report errors. new ValidationContext(recordTypes, recordTypeDesc, messageResolver) Note: The constructor is not accessible from the client code. Instances of the context are provided to the validators by the framework. Parameters: Name Type Description recordTypes module:x2node-records~RecordTypesLibrary Record types library. recordTypeDesc module:x2node-records~RecordTypeDescriptor Record type descriptor. messageResolver module:x2node-validators~MessageResolver Message resolver for the validation error messages. Members &lt;readonly&gt; containersChain :Array.&lt;(Object|Array)&gt; Chain of parent container objects and array leading to the record element being currently validated. For the record itself, the chain is empty. For all other elements the first element in the chain is the record itself and the last element is the immediate container of the current element being validated. Type: Array.&lt;(Object|Array)&gt; &lt;readonly&gt; currentPointer :module:x2node-pointers~RecordElementPointer Pointer at the record element currently being validated. Type: module:x2node-pointers~RecordElementPointer &lt;readonly&gt; currentPropDesc :module:x2node-records~PropertyDescriptor Property descriptor associated with the record element being validated, or null if record itself. Type: module:x2node-records~PropertyDescriptor &lt;readonly&gt; recordTypes :module:x2node-records~RecordTypesLibrary Record types library. Type: module:x2node-records~RecordTypesLibrary Methods addError(message [, params]) Add validation error associated with the record element currently being validated. Parameters: Name Type Argument Description message string Validation error message id in curly braces or message template. params Object.&lt;string, *&gt; &lt;optional&gt; Validation error message parameters. addErrorFor(ptr, message [, params]) Add validation error associated with the record element specified by a JSON pointer. Parameters: Name Type Argument Description ptr string | module:x2node-pointers~RecordElementPointer The pointer. message string Validation error message id in curly braces or message template. params Object.&lt;string, *&gt; &lt;optional&gt; Validation error message parameters. hasErrorsFor(ptr) Tell if there are validation errors for the specified pointer. When the validation runs on a record it first validates the deepest record elements gradually proceeding to the top record, which is validates the last. Therefore, a validator can use this method to check for validity of any of the properties that are below the current one. Also, validators for a single record element are run in the order they are specified on the element (with the default ones first, followed by the custom ones). Parameters: Name Type Description ptr string | module:x2node-pointers~RecordElementPointer The pointer. Returns: true if has errors. Type boolean × Search results Close "},"module-x2node-validators-ValidationErrors.html":{"id":"module-x2node-validators-ValidationErrors.html","title":"Class: ValidationErrors","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: ValidationErrors x2node-validators~ ValidationErrors Validation errors object. The own enumarable property names are RFC 6901 JSON pointers for the invalid parts of the record (empty string for error about the record as a whole). The values are arrays of corresponding error messages. new ValidationErrors() Methods addError(ptr, message) Add error. Parameters: Name Type Description ptr string | module:x2node-pointers~RecordElementPointer The pointer. message string The message. hasErrors(ptr) Tell is has errors. Parameters: Name Type Description ptr string | module:x2node-pointers~RecordElementPointer The pointer. Returns: true if has errors. Type boolean isEmpty() Tell if empty. Returns: true if empty. Type boolean × Search results Close "},"module-x2node-ws.html":{"id":"module-x2node-ws.html","title":"Module: x2node-ws","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Module: x2node-ws Central module for building RESTful web services. Requires module:x2node-common Classes BasicAuthenticator Application ServiceCall ServiceResponse Methods &lt;static&gt; createApplication( [options]) Create application the represents the web service. The application must be configured before it's run and starts responding to the incoming requests. Parameters: Name Type Argument Description options module:x2node-ws~ApplicationOptions &lt;optional&gt; Application configuration options. Returns: The application. Type module:x2node-ws~Application &lt;static&gt; createResponse(statusCode) Create new empty response object. Parameters: Name Type Description statusCode number HTTP response status code. Returns: Service response object. Type module:x2node-ws~ServiceResponse &lt;static&gt; isResponse(obj) Tell if the provided object is response object (that is an instance of ServiceResponse). Parameters: Name Type Description obj * Object to test. Returns: true if response object. Type boolean Type Definitions ApplicationOptions Application configuration options. Type: Object Properties: Name Type Description connectionIdleTimeout number Timeout in milliseconds for inactivity on the HTTP connection when activity is expected from the client. If the timeout occurs before the server starts sending the response, a 408 (Request Timeout) response is sent and the connection is closed. If timeout happens after the response headers have been sent, the connection is quitely closed. The default is 30 seconds. maxRequestHeadersCount number Maximum allowed number of incoming HTTP request headers. The default is 50. maxRequestSize number Maximum allowed size of request payload in bytes. The default is 2048. allowedOrigins string | Array.&lt;string&gt; List (comma-separated string or an array) of allowed CORS origins. If not provided, the default is to allow any origin. corsPreflightMaxAge number Maximum age in seconds for caching CORS preflight responses on the client. The default is 20 days. × Search results Close "},"module-x2node-ws.ActorsRegistry.html":{"id":"module-x2node-ws.ActorsRegistry.html","title":"Interface: ActorsRegistry","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interface: ActorsRegistry x2node-ws. ActorsRegistry Interface for actors registries. Methods lookupActor(handle [, creds]) Parameters: Name Type Argument Description handle string Actor handle from the authenticator. creds string &lt;optional&gt; Registry-specific actor credentials, if any. Returns: Actor record, or null if none exists for the handle. Type Promise.&lt;module:x2node-common.Actor&gt; × Search results Close "},"module-x2node-ws.Authenticator.html":{"id":"module-x2node-ws.Authenticator.html","title":"Interface: Authenticator","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interface: Authenticator x2node-ws. Authenticator Interface for web-service call authenticators. Methods addResponseHeaders(call, response) If present on the authenticator, called before sending HTTP response to give the authenticator a chance to add any authenticator-specific headers to the response. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. response module:x2node-ws~ServiceResponse The response. authenticate(call) Authenticate the call. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. Returns: Authenticated actor, null if could not authenticate, or a Promise of the above. Type module:x2node-common.Actor | Promise.&lt;module:x2node-common.Actor&gt; × Search results Close "},"module-x2node-ws.Authorizer.html":{"id":"module-x2node-ws.Authorizer.html","title":"Interface: Authorizer","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interface: Authorizer x2node-ws. Authorizer Interface for web-service call authorizers. Methods isAllowed(call) Tell if the call is authorized to proceed. Returning false will cause either a 401 (Unauthorized) or a 403 (Forbidden) HTTP response depending on whether there is an authenticated actor or not. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. Returns: true if the call is allowed. Type boolean | Promise.&lt;boolean&gt; × Search results Close "},"module-x2node-ws.BasicAuthenticator.html":{"id":"module-x2node-ws.BasicAuthenticator.html","title":"Class: BasicAuthenticator","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: BasicAuthenticator x2node-ws. BasicAuthenticator Authenticator that uses &quot;Basic&quot; HTTP authentication scheme (see RFC 7617). new BasicAuthenticator(actorsRegistry [, realm]) Create new authenticator. Parameters: Name Type Argument Default Description actorsRegistry module:x2node-ws.ActorsRegistry Actors registry. realm string &lt;optional&gt; Web Service The realm. Implements: module:x2node-ws.Authenticator Methods addResponseHeaders(call, response) If present on the authenticator, called before sending HTTP response to give the authenticator a chance to add any authenticator-specific headers to the response. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. response module:x2node-ws~ServiceResponse The response. Implements: module:x2node-ws.Authenticator#addResponseHeaders authenticate(call) Authenticate the call. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. Implements: module:x2node-ws.Authenticator#authenticate Returns: Authenticated actor, null if could not authenticate, or a Promise of the above. Type module:x2node-common.Actor | Promise.&lt;module:x2node-common.Actor&gt; × Search results Close "},"module-x2node-ws.Handler.html":{"id":"module-x2node-ws.Handler.html","title":"Interface: Handler","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interface: Handler x2node-ws. Handler Interface for web-service call handlers. Extends module:x2node-ws.Authorizer Methods [METHOD](call) Called to respond to the HTTP method same as the function's name. The returned value can be a ServiceResponse object, an Object, in which case it is serialized as JSON, a null to send back an HTTP 204 (No Content) response, or anything else, in which case it is converted to a string and sent back as plain text. The returned value can also be a Promise of any of the above. If the promise is rejected with a ServiceResponse, the response is sent back to the client. If rejected with anything else, an HTTP 500 (Internal Server Error) response is sent back. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. Returns: The response. Type * isAllowed(call) Tell if the call is authorized to proceed. Returning false will cause either a 401 (Unauthorized) or a 403 (Forbidden) HTTP response depending on whether there is an authenticated actor or not. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. Inherited From: module:x2node-ws.Authorizer#isAllowed Returns: true if the call is allowed. Type boolean | Promise.&lt;boolean&gt; OPTIONS(call, call) If present on the handler, gives it a chance to add handler-specific headers to an OPTIONS HTTP request response. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. call module:x2node-ws~ServiceResponse The response. × Search results Close "},"module-x2node-ws.Marshaller.html":{"id":"module-x2node-ws.Marshaller.html","title":"Interface: Marshaller","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Interface: Marshaller x2node-ws. Marshaller Interface for marshallers that are used to parse HTTP request and serialize HTTP response payloads given the content type. Methods deserialize(data, contentType) Deserialize the specified buffer into an object. Parameters: Name Type Description data external:Buffer Binary data to deserialize. contentType string Content type (may have optional charset argument). Throws: If the binary data is invalid and cannot be deserialized. Type module:x2node-common.X2DataError Returns: The deserialized object. Type Object serialize(obj, contentType) Serialize the specified object for sending it in an HTTP response. Parameters: Name Type Description obj Object Object to serialize. contentType string Content type (may have optional charset argument). Returns: Serialized data. Type external:Buffer × Search results Close "},"module-x2node-ws-auth-jwt.html":{"id":"module-x2node-ws-auth-jwt.html","title":"Module: x2node-ws-auth-jwt","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Module: x2node-ws-auth-jwt JWT authenticator for the web services module. Requires module:x2node-common Classes JWTAuthenticator × Search results Close "},"module-x2node-ws-auth-jwt-JWTAuthenticator.html":{"id":"module-x2node-ws-auth-jwt-JWTAuthenticator.html","title":"Class: JWTAuthenticator","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: JWTAuthenticator x2node-ws-auth-jwt~ JWTAuthenticator JWT authenticator. new JWTAuthenticator(actorsRegistry, clientId, clientSecret) Create new authenticator. Parameters: Name Type Description actorsRegistry module:x2node-ws.ActorsRegistry Actors registry. clientId string Client id. clientSecret string | external:Buffer Client secret key. Implements: module:x2node-ws.Authenticator Methods addResponseHeaders(call, response) If present on the authenticator, called before sending HTTP response to give the authenticator a chance to add any authenticator-specific headers to the response. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. response module:x2node-ws~ServiceResponse The response. Implements: module:x2node-ws.Authenticator#addResponseHeaders authenticate(call) Authenticate the call. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. Implements: module:x2node-ws.Authenticator#authenticate Returns: Authenticated actor, null if could not authenticate, or a Promise of the above. Type module:x2node-common.Actor | Promise.&lt;module:x2node-common.Actor&gt; × Search results Close "},"module-x2node-ws-resources.html":{"id":"module-x2node-ws-resources.html","title":"Module: x2node-ws-resources","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Module: x2node-ws-resources Persistent resources for the web services module. Requires module:x2node-common module:x2node-dbos module:x2node-ws Classes CollectionResourceHandler IndividualResourceHandler ResourceHandlersFactory TransactionContext Mixins HandlerExtension Methods &lt;static&gt; createResourceHandlersFactory(ds, dboFactory [, defaultOptions]) Create resource handlers factory. Parameters: Name Type Argument Description ds module:x2node-dbos.DataSource Data source. dboFactory module:x2node-dbos~DBOFactory DBO factory. defaultOptions Object &lt;optional&gt; Default options for handlers. Type Definitions CreateTransactionContext Context object for a new record creation operation. Type: module:x2node-ws-resources~TransactionContext Properties: Name Type Description recordTmpl Object DeleteTransactionContext Context object for a record deletion operation. Type: module:x2node-ws-resources~TransactionContext Properties: Name Type Description selectionFilter Object queryParams Object.&lt;string, *&gt; deleteResult module:x2node-dbos~DeleteDBO~Result ReadTransactionContext Context object for a single record read operation. Type: module:x2node-ws-resources~TransactionContext Properties: Name Type Description querySpec Object queryParams Object.&lt;string, *&gt; SearchTransactionContext Context object for a record search operation. Type: module:x2node-ws-resources~TransactionContext Properties: Name Type Description querySpec Object queryParams Object.&lt;string, *&gt; UpdateTransactionContext Context object for a record update operation. Type: module:x2node-ws-resources~TransactionContext Properties: Name Type Description patch module:x2node-patches~RecordPatch selectionFilter Object queryParams Object.&lt;string, *&gt; updateResult module:x2node-dbos~UpdateDBO~Result × Search results Close "},"module-x2node-ws-resources.CollectionResourceHandler.html":{"id":"module-x2node-ws-resources.CollectionResourceHandler.html","title":"Class: CollectionResourceHandler","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: CollectionResourceHandler x2node-ws-resources. CollectionResourceHandler Standard collection resource web wervice endpoint handler. new CollectionResourceHandler(ds, dboFactory, rsrcPath [, options]) Create new handler. Parameters: Name Type Argument Description ds module:x2node-dbos.DataSource Data source. dboFactory module:x2node-dbos~DBOFactory DBO factory. rsrcPath string Resource path. options Object &lt;optional&gt; Options. Implements: module:x2node-ws.Handler Extends module:x2node-ws~AbstractResourceHandler × Search results Close "},"module-x2node-ws-resources.HandlerExtension.html":{"id":"module-x2node-ws-resources.HandlerExtension.html","title":"Mixin: HandlerExtension","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Mixin: HandlerExtension x2node-ws-resources. HandlerExtension Resource handler extension. Methods afterCreate(txCtx, record) Parameters: Name Type Description txCtx module:x2node-ws-resources.CreateTransactionContext record Object Returns: Type Promise afterDelete(txCtx) Parameters: Name Type Description txCtx module:x2node-ws-resources.DeleteTransactionContext Returns: Type Promise afterRead(txCtx, record) Parameters: Name Type Description txCtx module:x2node-ws-resources.ReadTransactionContext record Object Returns: Type Promise afterSearch(txCtx, result) Parameters: Name Type Description txCtx module:x2node-ws-resources.SearchTransactionContext result module:x2node-dbos~FetchDBO~Result Returns: Type Promise afterUpdate(txCtx, record) Parameters: Name Type Description txCtx module:x2node-ws-resources.UpdateTransactionContext record Object Returns: Type Promise beforeCreate(txCtx) Parameters: Name Type Description txCtx module:x2node-ws-resources.CreateTransactionContext Returns: Type Promise beforeDelete(txCtx) Parameters: Name Type Description txCtx module:x2node-ws-resources.DeleteTransactionContext Returns: Type Promise beforeRead(txCtx) Parameters: Name Type Description txCtx module:x2node-ws-resources.ReadTransactionContext Returns: Type Promise beforeSearch(txCtx) Parameters: Name Type Description txCtx module:x2node-ws-resources.SearchTransactionContext Returns: Type Promise beforeUpdate(txCtx) Parameters: Name Type Description txCtx module:x2node-ws-resources.UpdateTransactionContext Returns: Type Promise completeCreate( [err], txCtx [, record]) Parameters: Name Type Argument Description err external:Error | module:x2node-ws~ServiceResponse &lt;optional&gt; txCtx module:x2node-ws-resources.CreateTransactionContext record Object &lt;optional&gt; Returns: Type Promise completeDelete( [err], txCtx) Parameters: Name Type Argument Description err external:Error | module:x2node-ws~ServiceResponse &lt;optional&gt; txCtx module:x2node-ws-resources.DeleteTransactionContext Returns: Type Promise completeRead( [err], txCtx [, record]) Parameters: Name Type Argument Description err external:Error | module:x2node-ws~ServiceResponse &lt;optional&gt; txCtx module:x2node-ws-resources.ReadTransactionContext record Object &lt;optional&gt; Returns: Type Promise completeSearch( [err], txCtx [, result]) Parameters: Name Type Argument Description err external:Error | module:x2node-ws~ServiceResponse &lt;optional&gt; txCtx module:x2node-ws-resources.SearchTransactionContext result module:x2node-dbos~FetchDBO~Result &lt;optional&gt; Returns: Type Promise completeUpdate( [err], txCtx [, record]) Parameters: Name Type Argument Description err external:Error | module:x2node-ws~ServiceResponse &lt;optional&gt; txCtx module:x2node-ws-resources.UpdateTransactionContext record Object &lt;optional&gt; Returns: Type Promise prepareCreate(txCtx) After the record is validated. Parameters: Name Type Description txCtx module:x2node-ws-resources.CreateTransactionContext Returns: Nothing, or a promise, which can be rejected to abort the action and return the rejection object as the handler response. Type * | Promise prepareDelete(txCtx) Parameters: Name Type Description txCtx module:x2node-ws-resources.DeleteTransactionContext Returns: Nothing, or a promise, which can be rejected to abort the action and return the rejection object as the handler response. Type * | Promise prepareRead(txCtx) Before read DBO is created. Parameters: Name Type Description txCtx module:x2node-ws-resources.ReadTransactionContext Returns: Nothing, or a promise, which can be rejected to abort the action and return the rejection object as the handler response. Type * | Promise prepareSearch(txCtx) Before search DBO is created. Parameters: Name Type Description txCtx module:x2node-ws-resources.SearchTransactionContext Returns: Nothing, or a promise, which can be rejected to abort the action and return the rejection object as the handler response. Type * | Promise prepareUpdate(txCtx) Parameters: Name Type Description txCtx module:x2node-ws-resources.UpdateTransactionContext Returns: Nothing, or a promise, which can be rejected to abort the action and return the rejection object as the handler response. Type * | Promise × Search results Close "},"module-x2node-ws-resources.IndividualResourceHandler.html":{"id":"module-x2node-ws-resources.IndividualResourceHandler.html","title":"Class: IndividualResourceHandler","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: IndividualResourceHandler x2node-ws-resources. IndividualResourceHandler Standard individual resource web wervice endpoint handler. new IndividualResourceHandler(ds, dboFactory, rsrcPath [, options]) Create new handler. Parameters: Name Type Argument Description ds module:x2node-dbos.DataSource Data source. dboFactory module:x2node-dbos~DBOFactory DBO factory. rsrcPath string Resource path. options Object &lt;optional&gt; Options. Implements: module:x2node-ws.Handler Extends module:x2node-ws~AbstractResourceHandler Methods OPTIONS(call, call) If present on the handler, gives it a chance to add handler-specific headers to an OPTIONS HTTP request response. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. call module:x2node-ws~ServiceResponse The response. Implements: module:x2node-ws.Handler#OPTIONS × Search results Close "},"module-x2node-ws-resources-ResourceHandlersFactory.html":{"id":"module-x2node-ws-resources-ResourceHandlersFactory.html","title":"Class: ResourceHandlersFactory","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: ResourceHandlersFactory x2node-ws-resources~ ResourceHandlersFactory Resource handlers factory. new ResourceHandlersFactory(ds, dboFactory [, defaultOptions]) Note: The constructor is not accessible from the client code. Instances are created using module's createResourceHandlersFactory() function. Parameters: Name Type Argument Description ds module:x2node-dbos.DataSource Data source. dboFactory module:x2node-dbos~DBOFactory DBO factory. defaultOptions Object &lt;optional&gt; Default options for handlers. Methods collectionResource(rsrcPath [, handlerExt]) Create collection resource handler. Parameters: Name Type Argument Description rsrcPath string Resource path. handlerExt Object &lt;optional&gt; Handler extension. Returns: The handler. Type module:x2node-ws-resources.CollectionResourceHandler individualResource(rsrcPath [, handlerExt]) Create individual resource handler. Parameters: Name Type Argument Description rsrcPath string Resource path. handlerExt Object &lt;optional&gt; Handler extension. Returns: The handler. Type module:x2node-ws-resources.IndividualResourceHandler × Search results Close "},"module-x2node-ws-resources-TransactionContext.html":{"id":"module-x2node-ws-resources-TransactionContext.html","title":"Class: TransactionContext","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: TransactionContext x2node-ws-resources~ TransactionContext Resource handler transaction context. new TransactionContext(call, dboFactory) Note: The constructor is not accessible from the client code. Instances are created internally in the framework and are provided to handler extensions. Parameters: Name Type Description call module:x2node-ws~ServiceCall The call. dboFactory module:x2node-dbos~DBOFactory The DBO factory. Members &lt;readonly&gt; call :module:x2node-ws~ServiceCall The web service endpoint call. Type: module:x2node-ws~ServiceCall &lt;readonly&gt; dboFactory :module:x2node-dbos~DBOFactory DBO factory. Type: module:x2node-dbos~DBOFactory &lt;readonly&gt; recordTypes :module:x2node-records~RecordTypesLibrary Record types library. Type: module:x2node-records~RecordTypesLibrary &lt;readonly&gt; transaction :module:x2node-dbos~Transaction The transaction, if active. Type: module:x2node-dbos~Transaction Methods delete(recordTypeName, filterSpec) Convenience shortcut for building and executing a delete DBO. Parameters: Name Type Description recordTypeName string Name of the record type to delete. filterSpec Array.&lt;Array&gt; Selector for records to delete. See: buildDelete() Returns: The operation result object promise. Type Promise.&lt;module:x2node-dbos~DeleteDBO~Result&gt; fetch(recordTypeName, querySpec) Convenience shortcut for building and executing a fetch DBO. Parameters: Name Type Description recordTypeName string Name of the record type to fetch. querySpec Object Query specification. See: buildFetch() Returns: The fetch result promise. Type Promise.&lt;module:x2node-dbos~FetchDBO~Result&gt; insert(recordTypeName, records [, passThrough]) Convenience shortcut for building and executing an insert DBO. Parameters: Name Type Argument Description recordTypeName string Name of the record type to insert. records Object | Array.&lt;Object&gt; Record template or an array of record templates. passThrough * &lt;optional&gt; If provided, the returned promise resolves with this value instead of the inserted record ids (which are lost in that case). See: buildInsert() Returns: Promise of the new record id(s) or the pass through object. Type Promise.&lt;(string|number|Array.&lt;(string|number)&gt;|*)&gt; makeComplete() Mark the transaction as complete. The rest of the transaction phases are skipped, the transaction is committed and the handler returns the result of the current transaction phase. refToId(recordTypeName, ref) Convert record reference to record id. Shortcut for recordTypes.refToId(recordTypeName, ref). Parameters: Name Type Description recordTypeName string Reference target record type name. ref string Record reference. Throws: If reference is invalid. Type module:x2node-common.X2SyntaxError Returns: Record id. Type string | number update(recordTypeName, patch, filterSpec [, passThrough]) Convenience shortcut for building and executing an update DBO. Parameters: Name Type Argument Description recordTypeName string Name of the record type to update. patch Array.&lt;Object&gt; Update specification in JSON Patch format. filterSpec Array.&lt;Array&gt; Selector for records to update. passThrough * &lt;optional&gt; If provided, the returned promise resolves with this value instead of the update DBO result (which is lost in that case). See: buildUpdate() Returns: Promise of either the update result object or the pass through object. Type Promise.&lt;module:x2node-dbos~UpdateDBO~Result&gt; | * × Search results Close "},"module-x2node-ws-Application.html":{"id":"module-x2node-ws-Application.html","title":"Class: Application","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: Application x2node-ws~ Application Represents the web service application. new Application(options) Note: The constructor is not accessible from the client code. Instances are created using module's createApplication() function. Parameters: Name Type Description options module:x2node-ws~ApplicationOptions Application configuration options. Fires: module:x2node-ws~Application#event:shutdown Extends external:EventEmitter Methods addAuthenticator(uriPattern, authenticator) Associate an authenticator with the specified URI pattern. When looking up authenticator for a URI, the URI patterns are matched in the order the authenticators were added to the application. Parameters: Name Type Description uriPattern string URI regular expression pattern. authenticator module:x2node-ws.Authenticator The authenticator. Returns: This application. Type module:x2node-ws~Application addAuthorizer(uriPattern, authorizer) Associate an authorizer with the specified URI pattern. When looking up authorizer for a URI, the URI patterns are matched in the order the authorizers were added to the application. Parameters: Name Type Description uriPattern string URI regular expression pattern. authorizer module:x2node-ws.Authorizer The authorizer. Returns: This application. Type module:x2node-ws~Application addEndpoint(uriPattern, handler) Add web service endpoint. When looking up endpoint handler for a URI, the URI patterns are matched in the order the handlers were added to the application. Parameters: Name Type Description uriPattern string Endpoint URI regular expression pattern. URI parameters are groups in the pattern. handler module:x2node-ws.Handler The handler for the endpoint. Returns: This application. Type module:x2node-ws~Application addMarshaller(contentType, marshaller) Add marshaller for the content type. Parameters: Name Type Description contentType string Content type (no character set parameters, etc.). marshaller module:x2node-ws.Marshaller The marshaller implementation. Returns: This application. Type module:x2node-ws~Application run(port) Create HTTP server and run the application on it. Parameters: Name Type Description port number Port, on which to listen for incoming HTTP requests. Events shutdown Application shutdown event. Fired after all active HTTP connections have completed. Type: string × Search results Close "},"module-x2node-ws-ServiceCall.html":{"id":"module-x2node-ws-ServiceCall.html","title":"Class: ServiceCall","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: ServiceCall x2node-ws~ ServiceCall Web-service call. An instance is created automatically by the framework for each and every web-service call and provides context for all the components that participate in the call handling (such as call handlers). new ServiceCall(httpRequest, httpResponse) Note: The constructor is not accessible from the client code. Instances are created internally by the framework. Parameters: Name Type Description httpRequest http.external:IncomingMessage HTTP request. httpResponse http.external:ServerResponse HTTP response. Members &lt;nullable&gt; actor :module:x2node-common.Actor Authenticated actor associated with the call, or null if unauthenticated. Type: module:x2node-common.Actor &lt;readonly&gt; authenticator :module:x2node-ws.Authenticator The authenticator associated with the call, if any. Type: module:x2node-ws.Authenticator authorized :boolean Tells if the call has been authorized. Type: boolean &lt;readonly&gt; authorizers :Array.&lt;module:x2node-ws.Authorizer&gt; List of authorizers (including the handler if it has isAllowed method) associated with the call, if any. Type: Array.&lt;module:x2node-ws.Authorizer&gt; &lt;nullable&gt; entity :Object Entity provided with the call by the caller, or null if none. Type: Object entityContentType :string If entity is set on the call, this is the entity content type (all lower case, without any parameters such as charset). Type: string &lt;readonly&gt; handler :module:x2node-ws.Handler The handler associated with the call. Type: module:x2node-ws.Handler &lt;readonly&gt; httpRequest :http.external:IncomingMessage The original HTTP request. Type: http.external:IncomingMessage &lt;readonly&gt; id :string Call id unique for the process. Type: string &lt;readonly&gt; method :string HTTP request method (shortcut for httpRequest.method). Type: string &lt;readonly&gt; requestUrl :external:Url Parsed request URL object including parsed query string. Type: external:Url &lt;readonly&gt; timestamp :number Timestamp when the call was registered (from Date.now()). Type: number &lt;readonly&gt; uriParams :Array.&lt;string&gt; Parameter values extracted from the request URI. May be empty array. Type: Array.&lt;string&gt; × Search results Close "},"module-x2node-ws-ServiceResponse.html":{"id":"module-x2node-ws-ServiceResponse.html","title":"Class: ServiceResponse","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable Class: ServiceResponse x2node-ws~ ServiceResponse Web-service response. An instance is usually returned by an enpoint handler and is used by the framework to construct the HTTP response and send it back to the client. new ServiceResponse(statusCode) Note: The constructor is not accessible from the client code. Instances are created using module's createResponse() function. Parameters: Name Type Description statusCode number HTTP response status code. Members &lt;readonly&gt; entities :Array.&lt;module:x2node-ws~ServiceResponse~Entity&gt; All response entities and attachments in the correct order, or empty array if none. Type: Array.&lt;module:x2node-ws~ServiceResponse~Entity&gt; &lt;readonly&gt; headers :Object.&lt;string, string&gt; HTTP response headers. All header names are lowercase. Type: Object.&lt;string, string&gt; &lt;readonly&gt; statusCode :number HTTP response status code. Type: number Methods addAttachment(data [, contentType] [, filename]) Add attachment to the response. Multiple attachments can be added to a response with or without the main entity. If a response has entity and attachments or just more than one attachment, the HTTP response is sent with content type &quot;multipart/mixed&quot;. The parts are included in the response payload in the order they were added with the main entity, if any, always first. As with the main entity, the attachment data can be provided as an object, as a buffer or as a readable stream (which will trigger &quot;chunked&quot; HTTP response encoding). Parameters: Name Type Argument Default Description data Object | external:Buffer | stream.external:Readable The attachment data. contentType string &lt;optional&gt; application/json Content type. If omitted, &quot;application/json&quot; is assumed. filename string &lt;optional&gt; Optional filename associated with the attachment. Returns: This response object. Type module:x2node-ws~ServiceResponse addToHeadersListHeader(name, value) Add value(s) to an HTTP response header that is a list of other header names. Examples of such headers are &quot;Vary&quot;, &quot;Access-Control-Allow-Headers&quot; and &quot;Access-Control-Expose-Headers&quot;. The method checks if the headers are already present in the current value and does not add them twice. Parameters: Name Type Description name string HTTP response header name, case-insensitive. value string | Array.&lt;string&gt; Header(s) to add. Multiple headers can be specified as an array of in a comma-separated string. The case of the headers is not important as all the values are automatically normalized. Returns: This response object. Type module:x2node-ws~ServiceResponse addToMethodsListHeader(name, value) Add value(s) to an HTTP response header that is a list of HTTP methods. Examples of such headers are &quot;Allow&quot; and &quot;Access-Control-Allow-Methods&quot;. The method checks if the methods are already present in the current value and does not add them twice. Parameters: Name Type Description name string HTTP response header name, case-insensitive. value string | Array.&lt;string&gt; Method(s) to add. Multiple methods can be specified as an array or in a comma-separated string. The case of the methods is not important as all the values are automatically upper-cased. Returns: This response object. Type module:x2node-ws~ServiceResponse hasHeader(name) Tell if the response contains the specified HTTP response header. Parameters: Name Type Description name string HTTP response header name, case-insensitive. Returns: true if contains the header. Type boolean setEntity(data [, contentType]) Add main entity to the response. Only one entity can be added to a response. The entity data can be provided in one of the three forms an object, a buffer or a readable stream. If an object is provided, it is serialized according to the contentType argument. If buffer is provided, its binary data is sent as-is. In either of these cases the response is sent synchronously all at once. However, if data is provided as a stream, the response is sent asynchronously using HTTP &quot;chunked&quot; transfer encoding. Parameters: Name Type Argument Default Description data Object | external:Buffer | stream.external:Readable The entity data. contentType string &lt;optional&gt; application/json Content type. If omitted, &quot;application/json&quot; is assumed. Returns: This response object. Type module:x2node-ws~ServiceResponse setHeader(name, value) Add header to the HTTP response. Any existing value is replaced. Parameters: Name Type Description name string HTTP response header name, case-insensitive. value * The value. If the value is a Date, it is converted to string using Date.toUTCString() method. Otherwise, String() is used to convert it to string. If value is null, any existing header is removed instead. Returns: This response object. Type module:x2node-ws~ServiceResponse Type Definitions Entity HTTP entity descriptor. Type: Object Properties: Name Type Description headers Object.&lt;string, string&gt; HTTP response headers associated with the entity (such as &quot;content-type&quot; and &quot;content-disposition&quot;). All header names are lowercase. data Object | external:Buffer | stream.external:Readable The entity data. × Search results Close "},"net.external_Socket.html":{"id":"net.external_Socket.html","title":"External: Socket","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable External: Socket Socket Node.js net.Socket object. See: https://nodejs.org/dist/latest-v4.x/docs/api/net.html#net_class_net_socket × Search results Close "},"stream.external_Readable.html":{"id":"stream.external_Readable.html","title":"External: Readable","body":" X2 Framework for Node.js Modules x2node-commonx2node-dbosx2node-dbos-monitor-dbtablex2node-patchesx2node-pointersx2node-recordsx2node-rsparserx2node-validatorsx2node-wsx2node-ws-auth-jwtx2node-ws-resources Classes x2node-common.X2DataErrorx2node-common.X2SyntaxErrorx2node-common.X2UsageErrorx2node-dbos.BasicDBDriverx2node-dbos~DBOExecutionContextx2node-dbos~DBOFactoryx2node-dbos~DeleteDBOx2node-dbos~FetchDBOx2node-dbos~InsertDBOx2node-dbos~Transactionx2node-dbos~UpdateDBOx2node-patches~RecordPatchx2node-pointers~RecordElementPointerx2node-records~LibraryConstructionContextx2node-records~PropertiesContainerx2node-records~PropertyDescriptorx2node-records~RecordTypeDescriptorx2node-records~RecordTypesLibraryx2node-records~RecordTypesLibraryFactoryx2node-rsparser~ResultSetParserx2node-validators~ValidationContextx2node-validators~ValidationErrorsx2node-ws.BasicAuthenticatorx2node-ws-auth-jwt~JWTAuthenticatorx2node-ws-resources.CollectionResourceHandlerx2node-ws-resources.IndividualResourceHandlerx2node-ws-resources~ResourceHandlersFactoryx2node-ws-resources~TransactionContextx2node-ws~Applicationx2node-ws~ServiceCallx2node-ws~ServiceResponse Mixins x2node-dbos.PropertiesContainerWithDBOsx2node-dbos.PropertyDescriptorWithDBOsx2node-dbos.RecordTypeDescriptorWithDBOsx2node-rsparser.PropertyDescriptorWithRSParserx2node-validators.PropertyDescriptorWithValidatorsx2node-validators.RecordTypeDescriptorWithValidatorsx2node-ws-resources.HandlerExtension Events x2node-ws~Application#event:shutdown Interfaces x2node-common.Actorx2node-dbos.DataSourcex2node-dbos.DBDriverx2node-dbos.RecordCollectionsMonitorx2node-patches.RecordPatchHandlersx2node-records.Extensionx2node-ws.ActorsRegistryx2node-ws.Authenticatorx2node-ws.Authorizerx2node-ws.Handlerx2node-ws.Marshaller Externals BufferErrorEventEmitterUrlIncomingMessageServerResponseSocketReadable External: Readable Readable Node.js stream.Readable object. See: https://nodejs.org/dist/latest-v4.x/docs/api/stream.html#stream_class_stream_readable × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
